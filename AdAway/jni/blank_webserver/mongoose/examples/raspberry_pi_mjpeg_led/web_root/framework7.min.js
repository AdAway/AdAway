/*
 * Framework7 0.9.6
 * Full Featured HTML Framework For Building iOS 7 Apps
 *
 * http://www.idangero.us/framework7
 *
 * Copyright 2014, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under MIT
 *
 * Released on: September 13, 2014
*/
!function(){"use strict";window.Framework7=function(b){function c(a){var b=a.replace(/^./,function(a){return a.toUpperCase()});l["onPage"+b]=function(b,c){return l.onPage(a,b,c)}}function d(a,b,c){b=n(b);var d=b.find(a);return d.length>1&&("string"==typeof c.selector&&(d=b.find(c.selector+" "+a)),d.length>1&&(d=b.find("."+l.params.viewMainClass+" "+a))),1===d.length?d:void 0}function e(a,b,c){"to-left"===c&&(a.removeClass("page-on-center").addClass("page-from-center-to-left"),b.addClass("page-from-right-to-center")),"to-right"===c&&(a.removeClass("page-on-left").addClass("page-from-left-to-center"),b.removeClass("page-on-center").addClass("page-from-center-to-right"))}function f(a,b,c){"to-left"===c&&(b.removeClass("navbar-on-right").addClass("navbar-from-right-to-center"),b.find(".sliding").each(function(){var a=n(this);a.transform("translate3d(0px,0,0)"),l.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),a.removeClass("navbar-on-center").addClass("navbar-from-center-to-left"),a.find(".sliding").each(function(){var a=n(this);l.params.animateNavBackIcon&&(a.hasClass("center")&&b.find(".sliding.left .back .icon").length>0&&(this.f7NavbarLeftOffset+=b.find(".sliding.left .back span")[0].offsetLeft),a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),a.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===c&&(a.removeClass("navbar-on-left").addClass("navbar-from-left-to-center"),a.find(".sliding").each(function(){var a=n(this);a.transform("translate3d(0px,0,0)"),l.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),b.removeClass("navbar-on-center").addClass("navbar-from-center-to-right"),b.find(".sliding").each(function(){var a=n(this);l.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),a.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))}function g(a,b,c,e){var f,g,h,i,j,k,m,o,p=n(a.container),q=n(a.pagesContainer);if(l.pluginHook("loadPage",a,b,c),l._tempDomElement.innerHTML="",b||"string"==typeof c)l._tempDomElement.innerHTML=c;else if("length"in c&&c.length>1)for(var r=0;r<c.length;r++)n(l._tempDomElement).append(c[r]);else n(l._tempDomElement).append(c);if(o=e.reloadPrevious?"left":"center",f=d(".page",l._tempDomElement,a),!f)return void(a.allowPageChange=!0);if(f.addClass("page-on-"+o),h=q.children(".page:not(.cached)"),e.reloadPrevious&&1===h.length)return void(a.allowPageChange=!0);g=h.eq(h.length-1),a.params.dynamicNavbar&&(m=!0,j=d(".navbar-inner",l._tempDomElement,a),j||(m=!1),k=p.find(".navbar"),i=k.find(".navbar-inner:last-child")),m&&j.addClass("navbar-on-"+o),b||(b="#content-"+a.history.length,a.params.domCache||(a.contentCache[b]=c)),a.url=b;var s=a.history[a.history.length-(e.reloadPrevious?2:1)];0===s.indexOf("#content")&&s in a.contentCache&&(a.contentCache[s]=null,delete a.contentCache[s]),a.history[a.history.length-(e.reloadPrevious?2:1)]=b,e.reloadPrevious?(g=g.prev(".page"),f.insertBefore(g),m&&(i=i.prev(".navbar-inner"),j.insertAfter(i))):(q.append(f[0]),m&&k.append(j[0])),l.pageRemoveCallback(a,g[0],o),g.remove(),m&&i.remove(),l.pageInitCallback(a,f[0],b,o,m?j[0]:void 0),m&&l.navbarInitCallback(a,f[0],k[0],j[0],b,o),a.allowPageChange=!0}function h(a,b,c,g){function h(){a.allowPageChange=!0,i.removeClass("page-from-right-to-center page-on-right").addClass("page-on-center"),j.removeClass("page-from-center-to-left page-on-center").addClass("page-on-left"),r&&(p.removeClass("navbar-from-right-to-center navbar-on-right").addClass("navbar-on-center"),o.removeClass("navbar-from-center-to-left navbar-on-center").addClass("navbar-on-left")),l.pageAnimCallbacks("after",a,{pageContainer:i[0],url:b,position:"right",oldPage:j,newPage:i}),l.params.pushState&&l.pushStateClearQueue(),a.params.swipeBackPage||a.params.preloadPreviousPage||(a.params.domCache?(j.addClass("cached"),o.addClass("cached")):(j.remove(),o.remove())),a.params.uniqueHistory&&w&&a.refreshPreviousPage()}var i,j,k,m,o,p,q,r,s=n(a.container),t=n(a.pagesContainer),u=g.animatePages;if("undefined"==typeof u&&(u=a.params.animatePages),l.pluginHook("loadPage",a,b,c),l._tempDomElement.innerHTML="",b||"string"==typeof c)l._tempDomElement.innerHTML=c;else if("length"in c&&c.length>1)for(var v=0;v<c.length;v++)n(l._tempDomElement).append(c[v]);else n(l._tempDomElement).append(c);if(i=d(".page",l._tempDomElement,a),!i)return void(a.allowPageChange=!0);if(i.addClass("page-on-right"),k=t.children(".page:not(.cached)"),k.length>1){for(m=0;m<k.length-2;m++)a.params.domCache?n(k[m]).addClass("cached"):(l.pageRemoveCallback(a,k[m],"left"),n(k[m]).remove());a.params.domCache?n(k[m]).addClass("cached"):(l.pageRemoveCallback(a,k[m],"left"),n(k[m]).remove())}if(j=t.children(".page:not(.cached)"),a.params.dynamicNavbar&&(r=!0,p=d(".navbar-inner",l._tempDomElement,a),p||(r=!1),q=s.find(".navbar"),o=q.find(".navbar-inner:not(.cached)"),o.length>0)){for(m=0;m<o.length-1;m++)a.params.domCache?n(o[m]).addClass("cached"):n(o[m]).remove();p||1!==o.length||(a.params.domCache?n(o[0]).addClass("cached"):n(o[0]).remove()),o=q.find(".navbar-inner:not(.cached)")}r&&(p.addClass("navbar-on-right"),q.append(p[0])),b||(b="#content-"+a.history.length,a.params.domCache||(a.contentCache[b]=c)),a.url=b,a.history.push(b);var w=!1;a.params.uniqueHistory&&a.history.indexOf(b)!==a.history.lastIndexOf(b)&&(a.history=a.history.slice(0,a.history.indexOf(b)),a.history.push(b),w=!0),t.append(i[0]),l.pageInitCallback(a,i[0],b,"right",r?p[0]:void 0),r&&l.navbarInitCallback(a,i[0],q[0],p[0],b,"right"),r&&u&&p.find(".sliding").each(function(){var a=n(this);a.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)"),l.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)")});i[0].clientLeft;l.pageAnimCallbacks("before",a,{pageContainer:i[0],url:b,position:"right",oldPage:j,newPage:i}),u?(e(j,i,"to-left",a),r&&setTimeout(function(){f(o,p,"to-left",a)},0),i.animationEnd(function(){h()})):h()}function i(a,b,c){l.pluginHook("preprocess",a,b,c),a=l.pluginProcess("preprocess",a),l.params.preprocess?(a=l.params.preprocess(a,b,c),"undefined"!=typeof a&&c(a)):c(a)}function j(){var a=this,b=a.scrollTop,c=a.scrollHeight,d=a.offsetHeight,e=a.getAttribute("data-distance");e||(e=50),"string"==typeof e&&e.indexOf("%")>=0&&(e=parseInt(e,10)/100*d),e>d&&(e=d),b+d>=c-e&&n(a).trigger("infinite")}function k(){l.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var l=this;l.version="0.9.6",l.params={cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",fastClicks:!0,fastClicksDistanceThreshold:0,activeState:!0,activeStateElements:"a, button, label, span",animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageBoxShadow:!0,ajaxLinks:void 0,externalLinks:["external"],sortable:!0,swipeout:!0,swipeoutNoFollow:!1,smartSelectBackTemplate:'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>',smartSelectBackText:"Back",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,searchbarHideDividers:!0,searchbarHideGroups:!0,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",init:!0,viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,animatePages:!0};for(var m in b)l.params[m]=b[m];var n=a,o=Template7;l._compiledTemplates={},l.touchEvents={start:l.support.touch?"touchstart":"mousedown",move:l.support.touch?"touchmove":"mousemove",end:l.support.touch?"touchend":"mouseup"},l.ls=localStorage,l.rtl="rtl"===n("body").css("direction"),l.rtl&&n("html").attr("dir","rtl"),"undefined"!=typeof l.params.statusbarOverlay&&(l.params.statusbarOverlay?n("html").addClass("with-statusbar-overlay"):n("html").removeClass("with-statusbar-overlay")),l.globalEventListeners={},l.initGlobalEventListeners=function(){function a(a){var b;n(document).on(a,function(c){for(b=0;b<l.globalEventListeners[a].length;b++)l.globalEventListeners[a][b](c)}),l.globalEventListeners[a].initialized=!0}for(var b in l.globalEventListeners)l.globalEventListeners[b].initialized||a(b)},l.addGlobalEventListener=function(a,b){a in l.globalEventListeners||(l.globalEventListeners[a]=[]),l.globalEventListeners[a].push(b),l.initGlobalEventListeners()},l.removeGlobalEventListener=function(a,b){if(a in l.globalEventListeners)for(var c=l.globalEventListeners[a],d=0;d<c.length;d++)c[d]===b&&c.splice(d,1)},l.views=[];var p=function(a,b){function c(a){f[a]=function(b){b=b||{};var c=a.toLowerCase(),d=c.indexOf("content")>0;return("string"==typeof b||b.nodeType||"length"in b)&&(b=d?{content:b}:{url:b}),c.indexOf("reload")>=0&&(b.reload=!0,c.indexOf("previous")>=0&&(b.reloadPrevious=!0)),c.indexOf("refresh")>=0&&(b.url=c.indexOf("previous")>=0?f.history[f.history.length-2]:f.url,b.reload=!0,b.ignoreCache=!0,c.indexOf("previous")>=0&&(b.reloadPrevious=!0)),l.loadPage(f,b)}}var d={dynamicNavbar:!1,domCache:!1,linksView:void 0,uniqueHistory:l.params.uniqueHistory,swipeBackPage:l.params.swipeBackPage,swipeBackPageBoxShadow:l.params.swipeBackPageBoxShadow,swipeBackPageActiveArea:l.params.swipeBackPageActiveArea,swipeBackPageThreshold:l.params.swipeBackPageThreshold,animatePages:l.params.animatePages,preloadPreviousPage:l.params.preloadPreviousPage};b=b||{};for(var e in d)"undefined"==typeof b[e]&&(b[e]=d[e]);var f=this;f.params=b,f.selector=a;var g=n(a);f.container=g[0];var h=document.location.href;f.history=[];var i=h,j=l.params.pushStateSeparator,k=l.params.pushStateRoot;if(l.params.pushState&&(k?i=k:i.indexOf(j)>=0&&i.indexOf(j+"#")<0&&(i=i.split(j)[0])),f.url=g.attr("data-url")||f.params.url||i,f.url&&f.history.push(f.url),f.contentCache={},g[0].f7View=f,f.pagesContainer=g.find(".pages")[0],f.allowPageChange=!0,!f.activePage){var m,o=n(f.pagesContainer).find(".page-on-center");0===o.length&&(o=n(f.pagesContainer).find(".page"),o=o.eq(o.length-1)),o.length>0&&(m=o[0].f7PageData),m&&(m.view=f,f.url&&(m.url=f.url),f.activePage=m,o[0].f7PageData=m)}f.main=g.hasClass(l.params.viewMainClass);var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=!1,E=!1,F={},G=!0;f.handleTouchStart=function(a){G&&f.params.swipeBackPage&&!D&&!l.swipeoutOpenedEl&&(E=!1,D=!0,p=void 0,F.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,F.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,u=(new Date).getTime(),B=f.params.dynamicNavbar&&g.find(".navbar-inner").length>1)},f.handleTouchMove=function(a){if(D){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof p&&(p=!!(p||Math.abs(c-F.y)>Math.abs(b-F.x))),p||a.f7PreventSwipeBack||l.preventSwipeBack)return void(D=!1);if(!E){var d=!1;s=g.width();var e=n(a.target),h=e.hasClass("swipeout")?e:e.parents(".swipeout");h.length>0&&(!l.rtl&&h.find(".swipeout-actions-left").length>0&&(d=!0),l.rtl&&h.find(".swipeout-actions-right").length>0&&(d=!0)),q=e.is(".page")?e:e.parents(".page"),q.hasClass("no-swipeback")&&(d=!0),r=g.find(".page-on-left:not(.cached)");var i=F.x-g.offset().left>f.params.swipeBackPageActiveArea;if(i=l.rtl?F.x<g.offset().left-g[0].scrollLeft+s-f.params.swipeBackPageActiveArea:F.x-g.offset().left>f.params.swipeBackPageActiveArea,i&&(d=!0),(0===r.length||0===q.length)&&(d=!0),d)return void(D=!1);B&&(v=g.find(".navbar-on-center:not(.cached)"),w=g.find(".navbar-on-left:not(.cached)"),x=v.find(".left, .center, .right"),y=w.find(".left, .center, .right"),l.params.animateNavBackIcon&&(z=v.find(".left.sliding .back .icon"),A=w.find(".left.sliding .back .icon")))}a.f7PreventPanelSwipe=!0,E=!0,a.preventDefault();var j=l.rtl?-1:1;t=(b-F.x-f.params.swipeBackPageThreshold)*j,0>t&&(t=0);var k=t/s,m={percentage:k,activePage:q[0],previousPage:r[0],activeNavbar:v[0],previousNavbar:w[0]};f.params.onSwipeBackMove&&f.params.onSwipeBackMove(m),g.trigger("swipebackmove",m);var o=t*j,u=(t/5-s/5)*j;if(1===l.device.pixelRatio&&(o=Math.round(o),u=Math.round(u)),q.transform("translate3d("+o+"px,0,0)"),f.params.swipeBackPageBoxShadow&&"android"!==l.device.os&&(q[0].style.boxShadow="0px 0px 12px rgba(0,0,0,"+(.5-.5*k)+")"),r.transform("translate3d("+u+"px,0,0)"),r[0].style.opacity=.9+.1*k,B){var G;for(G=0;G<x.length;G++)if(C=n(x[G]),C[0].style.opacity=1-1.3*k,C[0].className.indexOf("sliding")>=0){var H=k*C[0].f7NavbarRightOffset;1===l.device.pixelRatio&&(H=Math.round(H)),C.transform("translate3d("+H+"px,0,0)"),l.params.animateNavBackIcon&&C[0].className.indexOf("left")>=0&&z.length>0&&z.transform("translate3d("+-H+"px,0,0)")}for(G=0;G<y.length;G++)if(C=n(y[G]),C[0].style.opacity=1.3*k-.3,C[0].className.indexOf("sliding")>=0){var I=C[0].f7NavbarLeftOffset*(1-k);1===l.device.pixelRatio&&(I=Math.round(I)),C.transform("translate3d("+I+"px,0,0)"),l.params.animateNavBackIcon&&C[0].className.indexOf("left")>=0&&A.length>0&&A.transform("translate3d("+-I+"px,0,0)")}}}},f.handleTouchEnd=function(){if(!D||!E)return D=!1,void(E=!1);if(D=!1,E=!1,0===t)return n([q[0],r[0]]).transform("").css({opacity:"",boxShadow:""}),void(B&&(x.transform("").css({opacity:""}),y.transform("").css({opacity:""}),z&&z.length>0&&z.transform(""),A&&z.length>0&&A.transform("")));var a=(new Date).getTime()-u,b=!1;if((300>a&&t>10||a>=300&&t>s/2)&&(q.removeClass("page-on-center").addClass("page-on-right"),r.removeClass("page-on-left").addClass("page-on-center"),B&&(v.removeClass("navbar-on-center").addClass("navbar-on-right"),w.removeClass("navbar-on-left").addClass("navbar-on-center")),b=!0),n([q[0],r[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),B&&(x.css({opacity:""}).each(function(){var a=b?this.f7NavbarRightOffset:0,c=n(this);c.transform("translate3d("+a+"px,0,0)"),l.params.animateNavBackIcon&&c.hasClass("left")&&z.length>0&&z.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning"),y.transform("").css({opacity:""}).each(function(){var a=b?0:this.f7NavbarLeftOffset,c=n(this);c.transform("translate3d("+a+"px,0,0)"),l.params.animateNavBackIcon&&c.hasClass("left")&&A.length>0&&A.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning")),G=!1,f.allowPageChange=!1,b){var c=f.history[f.history.length-2];f.url=c,l.pageAnimCallbacks("before",f,{pageContainer:r[0],url:c,position:"left",newPage:r,oldPage:q,swipeBack:!0})}q.transitionEnd(function(){n([q[0],r[0]]).removeClass("page-transitioning"),B&&(x.removeClass("page-transitioning").css({opacity:""}),y.removeClass("page-transitioning").css({opacity:""}),z&&z.length>0&&z.removeClass("page-transitioning"),A&&A.length>0&&A.removeClass("page-transitioning")),G=!0,f.allowPageChange=!0,b&&(l.params.pushState&&history.back(),l.pageAnimCallbacks("after",f,{pageContainer:r[0],url:c,position:"left",newPage:r,oldPage:q,swipeBack:!0}),l.afterGoBack(f,q,r))})},f.attachEvents=function(a){var b=a?"off":"on";g[b](l.touchEvents.start,f.handleTouchStart),g[b](l.touchEvents.move,f.handleTouchMove),g[b](l.touchEvents.end,f.handleTouchEnd)},f.detachEvents=function(){f.attachEvents(!0)},f.params.swipeBackPage&&f.attachEvents(),l.views.push(f),f.main&&(l.mainView=f);for(var H="loadPage loadContent reloadPage reloadContent reloadPreviousPage reloadPreviousContent refreshPage refreshPreviousPage".split(" "),I=0;I<H.length;I++)c(H[I]);if(f.goBack=function(a){return a=a||{},("string"==typeof a||a.nodeType||"length"in a)&&(a={url:a}),l.goBack(f,a)},f.hideNavbar=function(){return l.hideNavbar(g)},f.showNavbar=function(){return l.showNavbar(g)},f.hideToolbar=function(){return l.hideToolbar(g)},f.showToolbar=function(){return l.showToolbar(g)},l.params.pushState&&f.main){var J;k?J=h.split(l.params.pushStateRoot+j)[1]:h.indexOf(j)>=0&&h.indexOf(j+"#")<0&&(J=h.split(j)[1]);var K=l.params.pushStateNoAnimation?!1:void 0;J&&l.loadPage(f,{url:J,animatePages:K,pushState:!1})}return f.destroy=function(){f.detachEvents(),f=void 0},l.pluginHook("addView",f),f};l.addView=function(a,b){return new p(a,b)},l.navbarInitCallback=function(a,b,c,d,e,f){var g={container:c,innerContainer:d},h={url:e,query:n.parseUrlQuery(e||""),container:b,name:n(b).attr("data-page"),view:a,from:f},i={navbar:g,page:h};l.pluginHook("navbarInit",g,h),n(d).trigger("navbarInit",i)},l.sizeNavbars=function(a){var b=a?n(a).find(".navbar .navbar-inner:not(.cached)"):n(".navbar .navbar-inner:not(.cached)");b.each(function(){var a,b,c=n(this),d=c.find(l.rtl?".right":".left"),e=c.find(l.rtl?".left":".right"),f=c.find(".center"),g=0===d.length,h=0===e.length,i=g?0:d.outerWidth(!0),j=h?0:e.outerWidth(!0),k=f.outerWidth(!0),m=c.width(),o=c.hasClass("navbar-on-left");h&&(a=m-k),g&&(a=0),g||h||(a=(m-j-k+i)/2);var p=(m-k)/2;m-i-j>k?(i>p&&(p=i),p+k>m-j&&(p=m-j-k),b=p-a):b=0;var q=l.rtl?-1:1,r=b;l.rtl&&g&&h&&f.length>0&&(r=-r),f.css({left:r+"px"}),f.hasClass("sliding")&&(f[0].f7NavbarLeftOffset=-(a+b)*q,f[0].f7NavbarRightOffset=(m-a-b-k)*q,o&&f.transform("translate3d("+f[0].f7NavbarLeftOffset+"px, 0, 0)")),!g&&d.hasClass("sliding")&&(l.rtl?(d[0].f7NavbarLeftOffset=-(m-d.outerWidth())/2*q,d[0].f7NavbarRightOffset=i*q):(d[0].f7NavbarLeftOffset=-i,d[0].f7NavbarRightOffset=(m-d.outerWidth())/2),o&&d.transform("translate3d("+d[0].f7NavbarLeftOffset+"px, 0, 0)")),!h&&e.hasClass("sliding")&&(l.rtl?(e[0].f7NavbarLeftOffset=-j*q,e[0].f7NavbarRightOffset=(m-e.outerWidth())/2*q):(e[0].f7NavbarLeftOffset=-(m-e.outerWidth())/2,e[0].f7NavbarRightOffset=j),o&&e.transform("translate3d("+e[0].f7NavbarLeftOffset+"px, 0, 0)"))})},l.hideNavbar=function(a){return n(a).addClass("hidden-navbar"),!0},l.showNavbar=function(a){var b=n(a);return b.addClass("hiding-navbar").removeClass("hidden-navbar").find(".navbar").transitionEnd(function(){b.removeClass("hiding-navbar")}),!0},l.hideToolbar=function(a){return n(a).addClass("hidden-toolbar"),!0},l.showToolbar=function(a){var b=n(a);b.addClass("hiding-toolbar").removeClass("hidden-toolbar").find(".toolbar").transitionEnd(function(){b.removeClass("hiding-toolbar")})},l.initSearchbar=function(a){function b(){o.val("").trigger("change"),k.removeClass("searchbar-active searchbar-not-empty"),q.length>0&&q.css(w,-v+"px"),r&&m.removeClass("searchbar-overlay-active"),l.device.ios?setTimeout(function(){o.blur()},400):o.blur()}function c(){l.device.ios?setTimeout(function(){r&&!k.hasClass("searchbar-active")&&m.addClass("searchbar-overlay-active"),k.addClass("searchbar-active"),q.length>0&&q.css(w,"0px"),r.trigger("enableSearch")},400):(r&&!k.hasClass("searchbar-active")&&m.addClass("searchbar-overlay-active"),k.addClass("searchbar-active"),q.length>0&&q.css(w,"0px"),r.trigger("disableSearch"))}function d(){o.val("").trigger("change"),r.trigger("clearSearch")}function e(){setTimeout(function(){var a=o.val().trim();0===a.length?(k.removeClass("searchbar-not-empty"),r&&k.hasClass("searchbar-active")&&m.addClass("searchbar-overlay-active")):(k.addClass("searchbar-not-empty"),r&&k.hasClass("searchbar-active")&&m.removeClass("searchbar-overlay-active")),r.length>0&&s&&i(a)},0)}function f(a){a.preventDefault()}function g(a){var g=a?"off":"on";k[g]("submit",f),q[g]("click",b),m[g]("click",b),o[g]("focus",c),o[g]("change keydown keypress keyup",e),p[g]("click",d)}function h(){g(!0)}function i(a){var b=a.trim().toLowerCase().split(" ");r.find("li").removeClass("hidden-by-searchbar");var c=[];r.find("li").each(function(a,d){d=n(d);var e=d.find(s);if(0!==e.length){var f;f=e.text().trim().toLowerCase();for(var g=0,h=0;h<b.length;h++)f.indexOf(b[h])>=0&&g++;g!==b.length?d.addClass("hidden-by-searchbar"):c.push(d[0])}}),l.params.searchbarHideDividers&&r.find(".item-divider, .list-group-title").each(function(){for(var a=n(this),b=a.nextAll("li"),c=!0,d=0;d<b.length;d++){var e=n(b[d]);if(e.hasClass("list-group-title")||e.hasClass("item-divider"))break;e.hasClass("hidden-by-searchbar")||(c=!1)}c?a.addClass("hidden-by-searchbar"):a.removeClass("hidden-by-searchbar")}),l.params.searchbarHideGroups&&r.find(".list-group").each(function(){var a=n(this),b=a.find("li:not(.hidden-by-searchbar)");0===b.length?a.addClass("hidden-by-searchbar"):a.removeClass("hidden-by-searchbar")}),r.trigger("search",{query:a,foundItems:c}),0===c.length?(u.show(),t.hide()):(u.hide(),t.show())}function j(){h(),a.off("pageBeforeRemove",j)}a=n(a);var k=a.hasClass("searchbar")?a:a.find(".searchbar");if(0!==k.length){a.hasClass("page")||(a=k.parents(".page").eq(0));var m=a.hasClass("page")?a.find(".searchbar-overlay"):n(".searchbar-overlay"),o=k.find('input[type="search"]'),p=k.find(".searchbar-clear"),q=k.find(".searchbar-cancel"),r=n(k.attr("data-search-list")),s=k.attr("data-search-in"),t=(k.attr("data-search-by"),k.attr("data-searchbar-found"));t?t=n(t):(t=a.find(".searchbar-found"),0===t.length&&(t=n(".searchbar-found")));var u=k.attr("data-searchbar-not-found");u?u=n(u):(u=a.find(".searchbar-not-found"),0===u.length&&(u=n(".searchbar-not-found")));var v,w=l.rtl?"margin-left":"margin-right";q.length>0&&(v=q.width(),q.css(w,-v+"px")),k[0].f7DestroySearchbar=h,g(),a.hasClass("page")&&a.on("pageBeforeRemove",j)}},l.destroySearchbar=function(a){a=n(a);var b=a.hasClass("searchbar")?a:a.find(".searchbar");0!==b.length&&b[0].f7DestroySearchbar&&b[0].f7DestroySearchbar()},l.initMessagebar=function(a){function b(a){a.preventDefault()}function c(){j.css({height:""});var a=j[0].offsetHeight,b=a-j[0].clientHeight,c=j[0].scrollHeight;if(c+b>a){var d=c+b,e=l+(d-m),f=h.attr("data-max-height")||h.parents(".view")[0].offsetHeight-88;e>f&&(e=f,d=e-l+m),j.css("height",d+"px"),h.css("height",e+"px"),k.length>0&&(k.css("padding-bottom",e+"px"),k.scrollTop(k[0].scrollHeight-k[0].offsetHeight))}else k.length>0&&(h.css({height:""}),k.css({"padding-bottom":""}))}function d(){clearTimeout(i),i=setTimeout(function(){c()},0)}function e(a){var c=a?"off":"on";h[c]("submit",b),j[c]("change keydown keypress keyup paste cut",d)}function f(){e(!0)}function g(){f(),a.off("pageBeforeRemove",g)}a=n(a);var h=a.hasClass("messagebar")?a:a.find(".messagebar");if(0!==h.length){var i,j=h.find("textarea"),k=h.parents(".page").find(".page-content"),l=h[0].offsetHeight,m=j[0].offsetHeight;h[0].f7DestroyMessagebar=f,e(),a.hasClass("page")&&a.on("pageBeforeRemove",g)}},l.destroyMessagebar=function(a){a=n(a);var b=a.hasClass("messagebar")?a:a.find(".messagebar");0!==b.length&&b[0].f7DestroyMessagebar&&b[0].f7DestroyMessagebar()},l.cache=[],l.removeFromCache=function(a){for(var b=!1,c=0;c<l.cache.length;c++)l.cache[c].url===a&&(b=c);b!==!1&&l.cache.splice(b,1)},l.xhr=!1,l.get=function(a,b,c,d){var e=a;if(l.params.cacheIgnoreGetParameters&&a.indexOf("?")>=0&&(e=a.split("?")[0]),l.params.cache&&!c&&a.indexOf("nocache")<0&&l.params.cacheIgnore.indexOf(e)<0)for(var f=0;f<l.cache.length;f++)if(l.cache[f].url===e&&(new Date).getTime()-l.cache[f].time<l.params.cacheDuration)return d(l.cache[f].content),!1;return l.xhr=n.ajax({url:a,method:"GET",start:l.params.onAjaxStart,complete:function(a){200===a.status||0===a.status?(d(a.responseText,!1),l.params.cache&&!c&&(l.removeFromCache(e),l.cache.push({url:e,time:(new Date).getTime(),content:a.responseText}))):d(a.responseText,!0),l.params.onAjaxComplete&&l.params.onAjaxComplete(a)},error:function(a){d(a.responseText,!0),l.params.onAjaxError&&l.params.onAjaxonAjaxError(a)}}),b&&(b.xhr=l.xhr),l.xhr},l.pageCallbacks={},l.onPage=function(a,b,c){if(b&&b.split(" ").length>1){for(var d=b.split(" "),e=[],f=0;f<d.length;f++)e.push(l.onPage(a,d[f],c));return e.remove=function(){for(var a=0;a<e.length;a++)e[a].remove()},e.trigger=function(){for(var a=0;a<e.length;a++)e[a].trigger()},e}var g=l.pageCallbacks[a][b];return g||(g=l.pageCallbacks[a][b]=[]),l.pageCallbacks[a][b].push(c),{remove:function(){for(var a,b=0;b<g.length;b++)g[b].toString()===c.toString()&&(a=b);"undefined"!=typeof a&&g.splice(a,1)},trigger:c}};for(var q="beforeInit init beforeAnimation afterAnimation beforeRemove".split(" "),r=0;r<q.length;r++)l.pageCallbacks[q[r]]={},c(q[r]);l.triggerPageCallbacks=function(a,b,c){var d=l.pageCallbacks[a]["*"];if(d)for(var e=0;e<d.length;e++)d[e](c);var f=l.pageCallbacks[a][b];if(f&&0!==f.length)for(var g=0;g<f.length;g++)f[g](c)},l.pageInitCallback=function(a,b,c,d,e){if(!b.f7PageInitialized){b.f7PageInitialized=!0;var f={container:b,url:c,query:n.parseUrlQuery(c||""),name:n(b).attr("data-page"),view:a,from:d,navbarInnerContainer:e};b.f7PageData=f,a&&(a.activePage=f),l.pluginHook("pageBeforeInit",f),l.params.onPageBeforeInit&&l.params.onPageBeforeInit(l,f),l.triggerPageCallbacks("beforeInit",f.name,f),n(f.container).trigger("pageBeforeInit",{page:f}),l.initPage(b),l.pluginHook("pageInit",f),l.params.onPageInit&&l.params.onPageInit(l,f),l.triggerPageCallbacks("init",f.name,f),n(f.container).trigger("pageInit",{page:f})}},l.pageRemoveCallback=function(a,b,c){var d={container:b,name:n(b).attr("data-page"),view:a,from:c};l.pluginHook("pageBeforeRemove",d),l.params.onPageBeforeRemove&&l.params.onPageBeforeRemove(l,d),l.triggerPageCallbacks("beforeRemove",d.name,d),n(d.container).trigger("pageBeforeRemove",{page:d})},l.pageAnimCallbacks=function(a,b,c){var d={container:c.pageContainer,url:c.url,query:n.parseUrlQuery(c.url||""),name:n(c.pageContainer).attr("data-page"),view:b,from:c.position,swipeBack:c.swipeBack},e=c.oldPage,f=c.newPage;c.pageContainer.f7PageData=d,"after"===a&&(l.pluginHook("pageAfterAnimation",d),l.params.onPageAfterAnimation&&l.params.onPageAfterAnimation(l,d),l.triggerPageCallbacks("afterAnimation",d.name,d),n(d.container).trigger("pageAfterAnimation",{page:d})),"before"===a&&(n(b.container).attr("data-page",d.name),b&&(b.activePage=d),f.hasClass("no-navbar")&&!e.hasClass("no-navbar")&&b.hideNavbar(),!f.hasClass("no-navbar")&&e.hasClass("no-navbar")&&b.showNavbar(),f.hasClass("no-toolbar")&&!e.hasClass("no-toolbar")&&b.hideToolbar(),!f.hasClass("no-toolbar")&&e.hasClass("no-toolbar")&&b.showToolbar(),l.pluginHook("pageBeforeAnimation",d),l.params.onPageBeforeAnimation&&l.params.onPageBeforeAnimation(l,d),l.triggerPageCallbacks("beforeAnimation",d.name,d),n(d.container).trigger("pageBeforeAnimation",{page:d}))},l.initPage=function(a){l.sizeNavbars&&l.sizeNavbars(n(a).parents("."+l.params.viewClass)[0]),l.initMessages&&l.initMessages(a),l.initFormsStorage&&l.initFormsStorage(a),l.initSmartSelects&&l.initSmartSelects(a),l.initSlider&&l.initSlider(a),l.initPullToRefresh&&l.initPullToRefresh(a),l.initInfiniteScroll&&l.initInfiniteScroll(a),l.initSearchbar&&l.initSearchbar(a),l.initMessagebar&&l.initMessagebar(a)},l.allowPageChange=!0,l._tempDomElement=document.createElement("div"),l.loadPage=function(a,b){function c(c){if(l.params.pushState&&!b.reloadPrevious){"undefined"==typeof f&&(f=!0);var e=l.params.pushStateRoot||"",j=b.reload?"replaceState":"pushState";f&&(d?history[j]({url:d},"",e+l.params.pushStateSeparator+d):c&&history[j]({content:c,url:"#content-"+a.history.length},"",e+l.params.pushStateSeparator+"#content-"+a.history.length))}i(c,d,function(c){b.reload?g(a,d,c,b):h(a,d,c,b)})}var d=b.url,e=b.content,f=b.pushState;return a.allowPageChange?d&&a.url===d&&!b.reload?!1:(a.allowPageChange=!1,l.xhr&&a.xhr&&a.xhr===l.xhr&&(l.xhr.abort(),l.xhr=!1),e?void c(e):void l.get(b.url,a,b.ignoreCache,function(b,d){return d?void(a.allowPageChange=!0):void c(b)})):!1},l.goBack=function(a,b){function c(){function b(){l.afterGoBack(a,q[0],r[0]),l.pageAnimCallbacks("after",a,{pageContainer:r[0],url:h,position:"left",oldPage:q,newPage:r})}l.pageAnimCallbacks("before",a,{pageContainer:r[0],url:h,position:"left",oldPage:q,newPage:r}),j?(e(r,q,"to-right",a),v&&setTimeout(function(){f(t,s,"to-right",a)},0),r.animationEnd(function(){b()})):(t.find(".sliding, .sliding .back .icon").transform(""),b())}function g(){if(r=d(".page",l._tempDomElement,a),!r)return void(a.allowPageChange=!0);if(r.addClass("page-on-left"),q=n(y[0]),a.params.dynamicNavbar&&(v=!0,t=d(".navbar-inner",l._tempDomElement,a),t||(v=!1)),v&&(u=w.find(".navbar"),s=u.find(".navbar-inner"),t.addClass(s.length>0?"navbar-on-left":"navbar-on-center"),s.length>1&&(n(s[0]).remove(),s=u.find(".navbar-inner")),u.prepend(t[0])),x.prepend(r[0]),l.pageInitCallback(a,r[0],h,"left",v?t[0]:void 0),v&&l.navbarInitCallback(a,r[0],u[0],t[0],h,"right"),v&&t.hasClass("navbar-on-left")&&j&&t.find(".sliding").each(function(){var a=n(this);l.params.animateNavBackIcon&&(a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)"),a.hasClass("center")&&s.find(".left .back .icon ~ span").length>0&&(this.f7NavbarLeftOffset+=s.find(".left .back span")[0].offsetLeft)),a.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")}),k)return r.addClass("page-on-left"),void(a.allowPageChange=!0);a.url=h;r[0].clientLeft;c()}if(!a.allowPageChange)return!1;var h=b.url,j=b.animatePages,k=b.preloadOnly,m=b.pushState,o=b.ignoreCache,p=b.forceUrl;a.allowPageChange=!1,l.xhr&&a.xhr&&a.xhr===l.xhr&&(l.xhr.abort(),l.xhr=!1),l.pluginHook("goBack",a,h,k),l.params.pushState&&("undefined"==typeof m&&(m=!0),!k&&history.state&&m&&history.back());var q,r,s,t,u,v,w=n(a.container),x=n(a.pagesContainer),y=x.children(".page");if("undefined"==typeof j&&(j=a.params.animatePages),y.length>1&&!p){if(k)return void(a.allowPageChange=!0);if(a.url=a.history[a.history.length-2],r=n(y[y.length-2]),q=n(y[y.length-1]),a.params.dynamicNavbar){v=!0;var z=w.find(".navbar-inner:not(.cached)");t=n(z[0]),s=n(z[1])}c()}else{if(y.length>1&&p&&(l.pageRemoveCallback(a,y[y.length-2],"left"),n(y[y.length-2]).remove(),a.params.dynamicNavbar&&w.find(".navbar-inner:not(.cached)").eq(0).remove(),y=x.children(".page")),h&&0===h.indexOf("#")&&(h=void 0),(p&&!h||!p)&&(h=a.history[a.history.length-2]),!h)return void(a.allowPageChange=!0);if(p&&a.history.indexOf(h)&&(a.history=a.history.slice(0,a.history.indexOf(h)+2)),!a.params.domCache&&h in a.contentCache){var A=a.contentCache[h];return l._tempDomElement.innerHTML="",n(l._tempDomElement).append(A),void g()}l.get(h,a,o,function(b,c){return c?void(a.allowPageChange=!0):void i(b,h,function(a){l._tempDomElement.innerHTML=a,g()})})}},l.afterGoBack=function(a,b,c){if(b=n(b),c=n(c),l.pageRemoveCallback(a,b[0],"right"),b.remove(),c.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),a.allowPageChange=!0,a.params.dynamicNavbar){{var d=n(a.container).find(".navbar-inner:not(.cached)");n(d[1]).remove(),n(d[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")}if(a.params.preloadPreviousPage&&a.params.domCache){var e=n(a.container).find(".navbar-inner.cached");n(e[e.length-1]).removeClass("cached")}}var f=a.history.pop();if(!a.params.domCache&&f&&f.indexOf("#content-")>-1&&f in a.contentCache&&(a.contentCache[f]=null,delete a.contentCache[f]),l.params.pushState&&l.pushStateClearQueue(),a.params.preloadPreviousPage){if(a.params.domCache){var g=n(a.container).find(".page.cached");n(g[g.length-1]).removeClass("cached")}l.goBack(a,{preloadOnly:!0})}};var s=document.createElement("div");l.modal=function(a){a=a||{};var b="";if(l.params.modalTemplate)l._compiledTemplates.modal||(l._compiledTemplates.modal=o.compile(l.params.modalTemplate)),b=l._compiledTemplates.modal(a);else{var c="";if(a.buttons&&a.buttons.length>0)for(var d=0;d<a.buttons.length;d++)c+='<span class="modal-button'+(a.buttons[d].bold?" modal-button-bold":"")+'">'+a.buttons[d].text+"</span>";
var e=a.title?'<div class="modal-title">'+a.title+"</div>":"",f=a.title?'<div class="modal-text">'+a.text+"</div>":"",g=a.afterText?a.afterText:"",h=a.buttons&&0!==a.buttons.length?"":"modal-no-buttons";b='<div class="modal '+h+'"><div class="modal-inner">'+(e+f+g)+'</div><div class="modal-buttons">'+c+"</div></div>"}s.innerHTML=b;var i=n(s).children();return n("body").append(i[0]),i.find(".modal-button").each(function(b,c){n(c).on("click",function(c){a.buttons[b].close!==!1&&l.closeModal(i),a.buttons[b].onClick&&a.buttons[b].onClick(i,c),a.onClick&&a.onClick(i,b)})}),l.openModal(i),i[0]},l.alert=function(a,b,c){return"function"==typeof b&&(c=arguments[1],b=void 0),l.modal({text:a||"",title:"undefined"==typeof b?l.params.modalTitle:b,buttons:[{text:l.params.modalButtonOk,bold:!0,onClick:c}]})},l.confirm=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),l.modal({text:a||"",title:"undefined"==typeof b?l.params.modalTitle:b,buttons:[{text:l.params.modalButtonCancel,onClick:d},{text:l.params.modalButtonOk,bold:!0,onClick:c}]})},l.prompt=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),l.modal({text:a||"",title:"undefined"==typeof b?l.params.modalTitle:b,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:l.params.modalButtonCancel},{text:l.params.modalButtonOk,bold:!0}],onClick:function(a,b){0===b&&d&&d(n(a).find(".modal-text-input").val()),1===b&&c&&c(n(a).find(".modal-text-input").val())}})},l.modalLogin=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),l.modal({text:a||"",title:"undefined"==typeof b?l.params.modalTitle:b,afterText:'<input type="text" name="modal-username" placeholder="'+l.params.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+l.params.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:l.params.modalButtonCancel},{text:l.params.modalButtonOk,bold:!0}],onClick:function(a,b){var e=n(a).find('.modal-text-input[name="modal-username"]').val(),f=n(a).find('.modal-text-input[name="modal-password"]').val();0===b&&d&&d(e,f),1===b&&c&&c(e,f)}})},l.modalPassword=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),l.modal({text:a||"",title:"undefined"==typeof b?l.params.modalTitle:b,afterText:'<input type="password" name="modal-password" placeholder="'+l.params.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:l.params.modalButtonCancel},{text:l.params.modalButtonOk,bold:!0}],onClick:function(a,b){var e=n(a).find('.modal-text-input[name="modal-password"]').val();0===b&&d&&d(e),1===b&&c&&c(e)}})},l.showPreloader=function(a){return l.modal({title:a||l.params.modalPreloaderTitle,text:'<div class="preloader"></div>'})},l.hidePreloader=function(){l.closeModal(".modal.modal-in")},l.showIndicator=function(){n("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},l.hideIndicator=function(){n(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},l.actions=function(a,b){var c,d,e,f=!1;1===arguments.length?b=a:l.device.ios?l.device.ipad&&(f=!0):n(window).width()>=768&&(f=!0),b=b||[],b.length>0&&!n.isArray(b[0])&&(b=[b]);var g;if(f){var h='<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>';l._compiledTemplates.actionsPopover||(l._compiledTemplates.actionsPopover=o.compile(h));var i=l._compiledTemplates.actionsPopover(b);c=n(l.popover(i,a,!0)),d=".list-block ul",e=".list-button"}else{if(l.params.modalActionsTemplate)l._compiledTemplates.actions||(l._compiledTemplates.actions=o.compile(l.params.modalActionsTemplate)),g=l._compiledTemplates.actions(b);else{for(var j="",k=0;k<b.length;k++)for(var m=0;m<b[k].length;m++){0===m&&(j+='<div class="actions-modal-group">');var p=b[k][m],q=p.label?"actions-modal-label":"actions-modal-button";p.bold&&(q+=" actions-modal-button-bold"),p.color&&(q+=" color-"+p.color),j+='<span class="'+q+'">'+p.text+"</span>",m===b[k].length-1&&(j+="</div>")}g='<div class="actions-modal">'+j+"</div>"}s.innerHTML=g,c=n(s).children(),n("body").append(c[0]),d=".actions-modal-group",e=".actions-modal-button"}var r=c.find(d);return r.each(function(a,d){var g=a;n(d).children().each(function(a,d){var h,i=a,j=b[g][i];!f&&n(d).is(e)&&(h=n(d)),f&&n(d).find(e).length>0&&(h=n(d).find(e)),h&&h.on("click",function(a){j.close!==!1&&l.closeModal(c),j.onClick&&j.onClick(c,a)})})}),f||l.openModal(c),c[0]},l.popover=function(a,b,c){function d(){a.css({left:"",top:""});var c=a.width(),d=a.height(),e=a.find(".popover-angle"),f=e.width()/2;e.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var g=b.outerWidth(),h=b.outerHeight(),i=b.offset(),j=b.parents(".page");j.length>0&&(i.top=i.top-j[0].scrollTop);var k=n(window).height(),l=n(window).width(),m=0,o=0,p=0,q="top";d+f<i.top?m=i.top-d-f:d+f<k-i.top-h?(q="bottom",m=i.top+h+f):(q="middle",m=h/2+i.top-d/2,p=m,0>m?m=5:m+d>k&&(m=k-d-5),p-=m),"top"===q||"bottom"===q?(o=g/2+i.left-c/2,p=o,5>o&&(o=5),o+c>l&&(o=l-c-5),"top"===q&&e.addClass("on-bottom"),"bottom"===q&&e.addClass("on-top"),p-=o,e.css({left:c/2-f+p+"px"})):"middle"===q&&(o=i.left-c-f,e.addClass("on-right"),5>o&&(o=i.left+g+f,e.removeClass("on-right").addClass("on-left")),o+c>l&&(o=l-c-5,e.removeClass("on-right").addClass("on-left")),e.css({top:d/2-f+p+"px"})),a.css({top:m+"px",left:o+"px"})}if("undefined"==typeof c&&(c=!0),"string"==typeof a&&a.indexOf("<")>=0){var e=document.createElement("div");if(e.innerHTML=n.trim(a),!(e.childNodes.length>0))return!1;a=e.childNodes[0],c&&a.classList.add("remove-on-close"),n("body").append(a)}return a=n(a),b=n(b),0===a.length||0===b.length?!1:(0===a.find(".popover-angle").length&&a.append('<div class="popover-angle"></div>'),a.show(),d(),n(window).on("resize",d),a.on("close",function(){n(window).off("resize",d)}),a.find("."+l.params.viewClass).length>0&&l.sizeNavbars(a.find("."+l.params.viewClass)[0]),l.openModal(a),a[0])},l.popup=function(a,b){if("undefined"==typeof b&&(b=!0),"string"==typeof a&&a.indexOf("<")>=0){var c=document.createElement("div");if(c.innerHTML=n.trim(a),!(c.childNodes.length>0))return!1;a=c.childNodes[0],b&&a.classList.add("remove-on-close"),n("body").append(a)}return a=n(a),0===a.length?!1:(a.show(),a.find("."+l.params.viewClass).length>0&&l.sizeNavbars(a.find("."+l.params.viewClass)[0]),l.openModal(a),a[0])},l.loginScreen=function(a){return a||(a=".login-screen"),a=n(a),0===a.length?!1:(a.show(),a.find("."+l.params.viewClass).length>0&&l.sizeNavbars(a.find("."+l.params.viewClass)[0]),l.openModal(a),a[0])},l.openModal=function(a){a=n(a);var b=a.hasClass("popover"),c=a.hasClass("popup"),d=a.hasClass("login-screen");b||c||d||a.css({marginTop:-Math.round(a.outerHeight()/2)+"px"});var e;d||(0!==n(".modal-overlay").length||c||n("body").append('<div class="modal-overlay"></div>'),0===n(".popup-overlay").length&&c&&n("body").append('<div class="popup-overlay"></div>'),e=n(c?".popup-overlay":".modal-overlay"));a[0].clientLeft;return a.trigger("open"),d||e.addClass("modal-overlay-visible"),a.removeClass("modal-out").addClass("modal-in").transitionEnd(function(){a.trigger(a.hasClass("modal-out")?"closed":"opened")}),!0},l.closeModal=function(a){if(a=n(a||".modal-in"),"undefined"==typeof a||0!==a.length){var b=a.hasClass("popover"),c=a.hasClass("popup"),d=a.hasClass("login-screen"),e=a.hasClass("remove-on-close"),f=n(c?".popup-overlay":".modal-overlay");return f.removeClass(c&&a.length===n(".popup.modal-in").length?"modal-overlay-visible":"modal-overlay-visible"),a.trigger("close"),b?(a.removeClass("modal-in modal-out").trigger("closed").hide(),e&&a.remove()):a.removeClass("modal-in").addClass("modal-out").transitionEnd(function(){a.trigger(a.hasClass("modal-out")?"closed":"opened"),c||d?(a.removeClass("modal-out").hide(),e&&a.length>0&&a.remove()):a.remove()}),!0}},l.allowPanelOpen=!0,l.openPanel=function(a){function b(){e.transitionEnd(function(a){n(a.target).is(e)?(c.trigger(c.hasClass("active")?"opened":"closed"),l.allowPanelOpen=!0):b()})}if(!l.allowPanelOpen)return!1;var c=n(".panel-"+a);if(0===c.length||c.hasClass("active"))return!1;l.closePanel(),l.allowPanelOpen=!1;var d=c.hasClass("panel-reveal")?"reveal":"cover";c.css({display:"block"}).addClass("active"),c.trigger("open"),c.find("."+l.params.viewClass).length>0&&l.sizeNavbars&&l.sizeNavbars(c.find("."+l.params.viewClass)[0]);var e=(c[0].clientLeft,"reveal"===d?n("."+l.params.viewsClass):c);return b(),n("body").addClass("with-panel-"+a+"-"+d),!0},l.closePanel=function(){var a=n(".panel.active");if(0===a.length)return!1;var b=a.hasClass("panel-reveal")?"reveal":"cover",c=a.hasClass("panel-left")?"left":"right";a.removeClass("active");var d="reveal"===b?n("."+l.params.viewsClass):a;a.trigger("close"),l.allowPanelOpen=!1,d.transitionEnd(function(){a.hasClass("active")||(a.css({display:""}),a.trigger("closed"),n("body").removeClass("panel-closing"),l.allowPanelOpen=!0)}),n("body").addClass("panel-closing").removeClass("with-panel-"+c+"-"+b)},l.initSwipePanels=function(){function a(a){if(l.allowPanelOpen&&l.params.swipePanel&&!e&&!(n(".modal-in, .photo-browser-in").length>0||!l.params.swipePanelCloseOpposite&&n(".panel.active").length>0&&!d.hasClass("active"))){if(s.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,s.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,l.params.swipePanelCloseOpposite&&(q=n(".panel.active").length>0?n(".panel.active").hasClass("panel-left")?"left":"right":l.params.swipePanel),d=n(".panel.panel-"+q),l.params.swipePanelActiveArea){if("left"===q&&s.x>l.params.swipePanelActiveArea)return;if("right"===q&&s.x<window.innerWidth-l.params.swipePanelActiveArea)return}f=!1,e=!0,g=void 0,h=(new Date).getTime(),p=void 0}}function b(a){if(e&&!a.f7PreventPanelSwipe){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof g&&(g=!!(g||Math.abs(c-s.y)>Math.abs(b-s.x))),g)return void(e=!1);if(!p&&(p=b>s.x?"to-right":"to-left","left"===q&&"to-left"===p&&!d.hasClass("active")||"right"===q&&"to-right"===p&&!d.hasClass("active")))return void(e=!1);if(l.params.swipePanelNoFollow){var n=(new Date).getTime()-h;return 300>n&&("to-left"===p&&("right"===q&&l.openPanel(q),"left"===q&&d.hasClass("active")&&l.closePanel()),"to-right"===p&&("left"===q&&l.openPanel(q),"right"===q&&d.hasClass("active")&&l.closePanel())),e=!1,void(f=!1)}f||(o=d.hasClass("panel-cover")?"cover":"reveal",d.show(),r.show(),k=d.hasClass("active"),m=d.width(),d.transition(0),d.find("."+l.params.viewClass).length>0&&l.sizeNavbars&&l.sizeNavbars(d.find("."+l.params.viewClass)[0])),f=!0,a.preventDefault();var u=k?0:-l.params.swipePanelThreshold;"right"===q&&(u=-u),i=b-s.x+u,"right"===q?(j=i-(k?m:0),j>0&&(j=0),-m>j&&(j=-m)):(j=i+(k?m:0),0>j&&(j=0),j>m&&(j=m)),"reveal"===o?(t.transform("translate3d("+j+"px,0,0)").transition(0),r.transform("translate3d("+j+"px,0,0)"),l.pluginHook("swipePanelSetTransform",t[0],d[0],Math.abs(j/m))):(d.transform("translate3d("+j+"px,0,0)").transition(0),l.pluginHook("swipePanelSetTransform",t[0],d[0],Math.abs(j/m)))}}function c(){if(!e||!f)return e=!1,void(f=!1);e=!1,f=!1;var a,b=(new Date).getTime()-h,c=0===j||Math.abs(j)===m;if(a=k?j===-m?"reset":300>b&&Math.abs(j)>=0||b>=300&&Math.abs(j)<=m/2?"left"===q&&j===m?"reset":"swap":"reset":0===j?"reset":300>b&&Math.abs(j)>0||b>=300&&Math.abs(j)>=m/2?"swap":"reset","swap"===a&&(l.allowPanelOpen=!0,k?(l.closePanel(),c&&(d.css({display:""}),n("body").removeClass("panel-closing"))):l.openPanel(q),c&&(l.allowPanelOpen=!0)),"reset"===a)if(k)l.allowPanelOpen=!0,l.openPanel(q);else if(l.closePanel(),c)l.allowPanelOpen=!0,d.css({display:""});else{var g="reveal"===o?t:d;n("body").addClass("panel-closing"),g.transitionEnd(function(){l.allowPanelOpen=!0,d.css({display:""}),n("body").removeClass("panel-closing")})}"reveal"===o&&(t.transition(""),t.transform("")),d.transition("").transform(""),r.css({display:""}).transform("")}var d=n(".panel.panel-"+l.params.swipePanel);if(0!==d.length){var e,f,g,h,i,j,k,m,o,p,q,r=n(".panel-overlay"),s={},t=n("."+l.params.viewsClass);q=l.params.swipePanel,n(document).on(l.touchEvents.start,a),n(document).on(l.touchEvents.move,b),n(document).on(l.touchEvents.end,c)}},l.initMessages=function(a){var b=n(a),c=b.find(".messages");if(0!==c.length){var d=b.find(".page-content");c.hasClass("new-messages-first")||(d[0].scrollTop=c.height()-d.height()),l.updateMessagesAngles(c)}},l.addMessage=function(a){if(a=a||{},a.type=a.type||"sent",!a.text||0===a.length)return!1;var b=n(".messages-content");if(0===b.length)return!1;var c=b.find(".messages"),d=c.hasClass("new-messages-first"),e="";a.day&&(e+='<div class="messages-date">'+a.day+(a.time?",":"")+(a.time?" <span>"+a.time+"</span>":"")+"</div>");var f=a.text.indexOf("<img")>=0?"message-pic":"",g=a.avatar?"message-with-avatar":"",h="message message-"+a.type+" "+f+" "+g+" message-appear";e+='<div class="'+h+'">'+(a.name?'<div class="message-name">'+a.name+"</div>":"")+'<div class="message-text">'+a.text+"</div>"+(a.avatar?'<div class="message-avatar" style="background-image:url('+a.avatar+')"></div>':"")+"</div>",d?c.prepend(e):c.append(e),l.updateMessagesAngles(c),l.scrollMessagesContainer(b)},l.updateMessagesAngles=function(a){a.find(".message").each(function(){var a=n(this);a.find(".message-text img").length>0&&a.addClass("message-pic"),a.find(".message-avatar").length>0&&a.addClass("message-with-avatar")}),a.find(".message-sent").each(function(){var a=n(this),b=a.next(".message-sent"),c=a.prev(".message-sent");0===b.length?a.addClass("message-last"):a.removeClass("message-last"),0===c.length?a.addClass("message-first"):a.removeClass("message-first"),c.length>0&&c.find(".message-name").length>0&&a.find(".message-name").length>0&&c.find(".message-name").text()!==a.find(".message-name").text()&&(c.addClass("message-last"),a.addClass("message-first"))}),a.find(".message-received").each(function(){var a=n(this),b=a.next(".message-received"),c=a.prev(".message-received");0===b.length?a.addClass("message-last"):a.removeClass("message-last"),0===c.length?a.addClass("message-first"):a.removeClass("message-first"),c.length>0&&c.find(".message-name").length>0&&a.find(".message-name").length>0&&c.find(".message-name").text()!==a.find(".message-name").text()&&(c.addClass("message-last"),a.addClass("message-first"))})},l.scrollMessagesContainer=function(a){if(a=n(a||".messages-content"),0!==a.length){var b=a.find(".messages"),c=b.hasClass("new-messages-first"),d=a[0].scrollTop,e=c?0:b.height()-a.height();e!==d&&a.scrollTop(e,300)}},l.swipeoutOpenedEl=void 0,l.allowSwipeout=!0,l.initSwipeout=function(a){function b(a){l.allowSwipeout&&(f=!1,e=!0,g=void 0,B.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,B.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,h=(new Date).getTime())}function c(a){if(e){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof g&&(g=!!(g||Math.abs(c-B.y)>Math.abs(b-B.x))),g)return void(e=!1);if(!f){if(n(".list-block.sortable-opened").length>0)return;j=n(this),k=j.find(".swipeout-content"),m=j.find(".swipeout-actions-right"),o=j.find(".swipeout-actions-left"),p=q=u=v=y=x=null,o.length>0&&(p=o.width(),u=o.children("a"),x=o.find(".swipeout-overswipe")),m.length>0&&(q=m.width(),v=m.children("a"),y=m.find(".swipeout-overswipe")),s=j.hasClass("swipeout-opened"),s&&(t=j.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),j.removeClass("transitioning"),l.params.swipeoutNoFollow||(j.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),j.removeClass("swipeout-opened"))}if(f=!0,a.preventDefault(),i=b-B.x,r=i,s&&("right"===t?r-=q:r+=p),r>0&&0===o.length||0>r&&0===m.length){if(!s)return void(e=f=!1);r=0}w=0>r?"to-left":r>0?"to-right":w?w:"to-left";var d,h,C;if(a.f7PreventPanelSwipe=!0,l.params.swipeoutNoFollow)return s?("right"===t&&i>0&&l.swipeoutClose(j),"left"===t&&0>i&&l.swipeoutClose(j)):(0>i&&m.length>0&&l.swipeoutOpen(j,"right"),i>0&&o.length>0&&l.swipeoutOpen(j,"left")),e=!1,void(f=!1);z=!1,A=!1;var D;if(m.length>0)for(C=r/q,-q>r&&(r=-q-Math.pow(-r-q,.8),y.length>0&&(A=!0)),d=0;d<v.length;d++)"undefined"==typeof v[d]._buttonOffset&&(v[d]._buttonOffset=v[d].offsetLeft),h=v[d]._buttonOffset,D=n(v[d]),y.length>0&&D.hasClass("swipeout-overswipe")&&D.css({left:(A?-h:0)+"px"}),D.transform("translate3d("+(r-h*(1+Math.max(C,-1)))+"px,0,0)");if(o.length>0)for(C=r/p,r>p&&(r=p+Math.pow(r-p,.8),x.length>0&&(z=!0)),d=0;d<u.length;d++)"undefined"==typeof u[d]._buttonOffset&&(u[d]._buttonOffset=p-u[d].offsetLeft-u[d].offsetWidth),h=u[d]._buttonOffset,D=n(u[d]),x.length>0&&D.hasClass("swipeout-overswipe")&&D.css({left:(z?h:0)+"px"}),D.css("z-index",u.length-d).transform("translate3d("+(r+h*(1-Math.min(C,1)))+"px,0,0)");k.transform("translate3d("+r+"px,0,0)")}}function d(){if(!e||!f)return e=!1,void(f=!1);e=!1,f=!1;var a,b,c,d,g,t=(new Date).getTime()-h;if(c="to-left"===w?m:o,b="to-left"===w?q:p,a=300>t&&(-10>i&&"to-left"===w||i>10&&"to-right"===w)||t>=300&&Math.abs(r)>b/2?"open":"close",300>t&&(0===Math.abs(r)&&(a="close"),Math.abs(r)===b&&(a="open")),"open"===a){l.swipeoutOpenedEl=j,j.trigger("open"),j.addClass("swipeout-opened transitioning");var x="to-left"===w?-b:b;if(k.transform("translate3d("+x+"px,0,0)"),c.addClass("swipeout-actions-opened"),d="to-left"===w?v:u)for(g=0;g<d.length;g++)n(d[g]).transform("translate3d("+x+"px,0,0)");A&&m.find(".swipeout-overswipe")[0].click(),z&&o.find(".swipeout-overswipe")[0].click()}else j.trigger("close"),l.swipeoutOpenedEl=void 0,j.addClass("transitioning").removeClass("swipeout-opened"),k.transform(""),c.removeClass("swipeout-actions-opened");var y;if(u&&u.length>0&&u!==d)for(g=0;g<u.length;g++)y=u[g]._buttonOffset,"undefined"==typeof y&&(u[g]._buttonOffset=p-u[g].offsetLeft-u[g].offsetWidth),n(u[g]).transform("translate3d("+y+"px,0,0)");if(v&&v.length>0&&v!==d)for(g=0;g<v.length;g++)y=v[g]._buttonOffset,"undefined"==typeof y&&(v[g]._buttonOffset=v[g].offsetLeft),n(v[g]).transform("translate3d("+-y+"px,0,0)");k.transitionEnd(function(){s&&"open"===a||closed&&"close"===a||(j.trigger("open"===a?"opened":"closed"),s&&"close"===a&&(m.length>0&&v.transform(""),o.length>0&&u.transform("")))})}var e,f,g,h,i,j,k,m,o,p,q,r,s,t,u,v,w,x,y,z,A,B={};n(document).on(l.touchEvents.start,function(a){if(l.swipeoutOpenedEl){var b=n(a.target);l.swipeoutOpenedEl.is(b[0])||b.parents(".swipeout").is(l.swipeoutOpenedEl)||b.hasClass("modal-in")||b.parents(".modal-in").length>0||b.hasClass("modal-overlay")||l.swipeoutClose(l.swipeoutOpenedEl)}}),a?(n(a).on(l.touchEvents.start,b),n(a).on(l.touchEvents.move,c),n(a).on(l.touchEvents.end,d)):(n(document).on(l.touchEvents.start,".list-block li.swipeout",b),n(document).on(l.touchEvents.move,".list-block li.swipeout",c),n(document).on(l.touchEvents.end,".list-block li.swipeout",d))},l.swipeoutOpen=function(a,b){if(a=n(a),0!==a.length&&(a.length>1&&(a=n(a[0])),a.hasClass("swipeout")&&!a.hasClass("swipeout-opened"))){b||(b=a.find(".swipeout-actions-right").length>0?"right":"left");var c=a.find(".swipeout-actions-"+b);if(0!==c.length){a.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),c.addClass("swipeout-actions-opened");var d,e=c.children("a"),f=c.width(),g="right"===b?-f:f;if(e.length>1){for(d=0;d<e.length;d++)"right"===b?n(e[d]).transform("translate3d("+-e[d].offsetLeft+"px,0,0)"):n(e[d]).css("z-index",e.length-d).transform("translate3d("+(f-e[d].offsetWidth-e[d].offsetLeft)+"px,0,0)");{e[1].clientLeft}}for(a.addClass("transitioning"),d=0;d<e.length;d++)n(e[d]).transform("translate3d("+g+"px,0,0");a.find(".swipeout-content").transform("translate3d("+g+"px,0,0)").transitionEnd(function(){a.trigger("opened")}),l.swipeoutOpenedEl=a}}},l.swipeoutClose=function(a){if(a=n(a),0!==a.length&&a.hasClass("swipeout-opened")){var b=a.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",c=a.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),d=c.children("a"),e=c.width();l.allowSwipeout=!1,a.trigger("close"),a.removeClass("swipeout-opened").addClass("transitioning"),a.find(".swipeout-content").transform("translate3d(0px,0,0)").transitionEnd(function(){a.trigger("closed"),d.transform(""),l.allowSwipeout=!0});for(var f=0;f<d.length;f++)n(d[f]).transform("right"===b?"translate3d("+-d[f].offsetLeft+"px,0,0)":"translate3d("+(e-d[f].offsetWidth-d[f].offsetLeft)+"px,0,0)"),n(d[f]).css({left:"0px"});l.swipeoutOpenedEl&&l.swipeoutOpenedEl[0]===a[0]&&(l.swipeoutOpenedEl=void 0)}},l.swipeoutDelete=function(a){if(a=n(a),0!==a.length){a.length>1&&(a=n(a[0])),l.swipeoutOpenedEl=void 0,a.trigger("delete"),a.css({height:a.outerHeight()+"px"});{a[0].clientLeft}a.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){a.trigger("deleted"),a.remove()});var b="-100%";a.find(".swipeout-content").transform("translate3d("+b+",0,0)")}},l.sortableToggle=function(a){return a=n(a),0===a.length&&(a=n(".list-block.sortable")),a.toggleClass("sortable-opened"),a.trigger(a.hasClass("sortable-opened")?"open":"close"),a},l.sortableOpen=function(a){return a=n(a),0===a.length&&(a=n(".list-block.sortable")),a.addClass("sortable-opened"),a.trigger("open"),a},l.sortableClose=function(a){return a=n(a),0===a.length&&(a=n(".list-block.sortable")),a.removeClass("sortable-opened"),a.trigger("close"),a},l.initSortable=function(){function a(a){e=!1,d=!0,f="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,h=n(this).parent(),i=h.parent().find("li"),p=h.parents(".sortable"),a.preventDefault(),l.allowsPanelOpen=l.allowSwipeout=!1}function b(a){if(d&&h){var b=("touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,"touchmove"===a.type?a.targetTouches[0].pageY:a.pageY);e||(h.addClass("sorting"),p.addClass("sortable-sorting"),j=h[0].offsetTop,k=h.parent().height()-h[0].offsetTop-h.height()),e=!0,a.preventDefault(),a.f7PreventPanelSwipe=!0,g=b-f;var c=g;-j>c&&(c=-j),c>k&&(c=k),h.transform("translate3d(0,"+c+"px,0)"),o=m=void 0,i.each(function(){var a=n(this);if(a[0]!==h[0]){var b=a[0].offsetTop,d=a.height(),e=h[0].offsetTop+c;e>=b-d/2&&h.index()<a.index()?(a.transform("translate3d(0,-100%,0)"),m=a,o=void 0):b+d/2>=e&&h.index()>a.index()?(n(this).transform("translate3d(0,100%,0)"),m=void 0,o||(o=a)):n(this).transform("translate3d(0, 0%,0)")}})}}function c(a){return l.allowsPanelOpen=l.allowSwipeout=!0,d&&e?(a.preventDefault(),i.transform(""),h.removeClass("sorting"),p.removeClass("sortable-sorting"),m&&(h.insertAfter(m),h.trigger("sort")),o&&(h.insertBefore(o),h.trigger("sort")),m=o=void 0,d=!1,void(e=!1)):(d=!1,void(e=!1))}var d,e,f,g,h,i,j,k,m,o,p;n(document).on(l.touchEvents.start,".list-block.sortable .sortable-handler",a),l.support.touch?(n(document).on(l.touchEvents.move,".list-block.sortable .sortable-handler",b),n(document).on(l.touchEvents.end,".list-block.sortable .sortable-handler",c)):(n(document).on(l.touchEvents.move,b),n(document).on(l.touchEvents.end,c))},l.initSmartSelects=function(a){var b=n(a);if(0!==b.length){var c=b.find(".smart-select");0!==c.length&&c.each(function(){var a=n(this),b=a.find("select");if(0!==b.length){var c=b[0];if(0!==c.length){for(var d=[],e=0;e<c.length;e++)c[e].selected&&d.push(c[e].textContent.trim());var f=a.find(".item-after");0===f.length?a.find(".item-inner").append('<div class="item-after">'+d.join(", ")+"</div>"):f.text(d)}}})}},l.smartSelectOpen=function(a){function b(f){var g=f.detail.page;g.name===z&&(n(document).off("pageInit",b),n(g.container).find('input[name="'+q+'"]').on("change",function(){var b=this,f=b.value,g=[];if("checkbox"===b.type)for(var h=0;h<d.options.length;h++){var i=d.options[h];i.value===f&&(i.selected=b.checked),i.selected&&g.push(i.textContent.trim())}else g=[a.find('option[value="'+f+'"]').text()],d.value=f;e.trigger("change"),a.find(".item-after").text(g.join(", ")),m&&"radio"===p&&c.goBack()}))}if(a=n(a),0!==a.length){var c=a.parents("."+l.params.viewClass);if(0!==c.length&&(c=c[0].f7View)){var d=a.find("select")[0],e=n(d);if(!(d.disabled||a.hasClass("disabled")||e.hasClass("disabled"))){var f={};f.length=d.length;for(var g,h=0;h<d.length;h++)g=n(d[h]),f[h]={value:d[h].value,text:d[h].textContent.trim(),selected:d[h].selected,group:g.parent("optgroup")[0],image:g.attr("data-option-image")||e.attr("data-option-image"),icon:g.attr("data-option-icon")||e.attr("data-option-icon"),disabled:d[h].disabled};for(var i,j=a.attr("data-page-title")||a.find(".item-title").text(),k=a.attr("data-back-text")||l.params.smartSelectBackText,m=a.attr("data-back-onselect")?"true"===a.attr("data-back-onselect")?!0:!1:l.params.smartSelectBackOnSelect,o=(new Date).getTime(),p=d.multiple?"checkbox":"radio",q=p+"-"+o,r="",s=0;s<f.length;s++)if(!f[s].disabled){var t=f[s].selected?"checked":"";f[s].group&&f[s].group!==i&&(r+='<li class="item-divider">'+f[s].group.label+"</li>",i=f[s].group);var u="";"checkbox"===p&&(u+='<i class="icon icon-form-checkbox"></i>'),f[s].icon&&(u+='<i class="icon '+f[s].icon+'"></i>'),f[s].image&&(u+='<img src="'+f[s].image+'">'),r+='<li><label class="label-'+p+' item-content"><input type="'+p+'" name="'+q+'" value="'+f[s].value+'" '+t+">"+(""!==u?'<div class="item-media">'+u+"</div>":"")+'<div class="item-inner"><div class="item-title">'+f[s].text+"</div></div></label></li>"}var v='<div class="navbar">  <div class="navbar-inner">'+l.params.smartSelectBackTemplate.replace(/{{backText}}/g,k)+'    <div class="center sliding">'+j+"</div>  </div></div>",w="static";a.parents(".navbar-through").length>0&&(w="through"),a.parents(".navbar-fixed").length>0&&(w="fixed");var x,y,z="smart-select-"+q,A=a.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",B=a.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+w,C="undefined"==typeof a.data("searchbar")?l.params.smartSelectSearchbar:"true"===a.data("searchbar")?!0:!1;C&&(x=a.data("searchbar-placeholder")||"Search",y=a.data("searchbar-cancel")||"Cancel");var D='<form class="searchbar" data-search-list=".smart-select-list-'+o+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+x+'"><a href="#" class="searchbar-clear"></a></div><a href="#" class="searchbar-cancel">'+y+'</a></form><div class="searchbar-overlay"></div>',E=("through"===w?v:"")+'<div class="pages">  <div data-page="'+z+'" class="page smart-select-page '+B+" "+A+'">'+("fixed"===w?v:"")+(C?D:"")+'    <div class="page-content">'+("static"===w?v:"")+'      <div class="list-block smart-select-list-'+o+'">        <ul>'+r+"        </ul>      </div>    </div>  </div></div>";n(document).on("pageInit",b),c.loadContent(E)}}}},l.initPullToRefresh=function(a){function b(a){if(g){if("android"!==l.device.os)return;if("targetTouches"in a&&a.targetTouches.length>1)return}h=!1,g=!0,i=void 0,q=void 0,r.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,r.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,k=(new Date).getTime(),m=n(this)}function c(a){if(g){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof i&&(i=!!(i||Math.abs(c-r.y)>Math.abs(b-r.x))),!i)return void(g=!1);if(p=m[0].scrollTop,"undefined"==typeof q&&0!==p&&(q=!0),!h){if(m.removeClass("transitioning"),p>m[0].offsetHeight)return void(g=!1);u=m.hasClass("refreshing")?44:0,t=m[0].scrollHeight===m[0].offsetHeight||"ios"!==l.device.os?!0:!1}return h=!0,j=c-r.y,j>0&&0>=p||0>p?("ios"===l.device.os&&parseInt(l.device.osVersion.split(".")[0],10)>7&&0===p&&!q&&(t=!0),t&&(a.preventDefault(),o=Math.pow(j,.85)+u,m.transform("translate3d(0,"+o+"px,0)")),t&&Math.pow(j,.85)>44||!t&&j>=88?(s=!0,m.addClass("pull-up").removeClass("pull-down")):(s=!1,m.removeClass("pull-up").addClass("pull-down")),void 0):(m.removeClass("pull-up pull-down"),void(s=!1))}}function d(){return g&&h?(o&&(m.addClass("transitioning"),o=0),m.transform(""),s?(m.addClass("refreshing"),m.trigger("refresh",{done:function(){l.pullToRefreshDone(m)}})):m.removeClass("pull-down"),g=!1,void(h=!1)):(g=!1,void(h=!1))}function e(){f.off(l.touchEvents.start,b),f.off(l.touchEvents.move,c),f.off(l.touchEvents.end,d),v.off("pageBeforeRemove",e)}var f=n(a);if(f.hasClass("pull-to-refresh-content")||(f=f.find(".pull-to-refresh-content")),0!==f.length){var g,h,i,j,k,m,o,p,q,r={},s=!1,t=!1,u=0;m=f,f.on(l.touchEvents.start,b),f.on(l.touchEvents.move,c),f.on(l.touchEvents.end,d);var v=f.hasClass("page")?f:f.parents(".page");0!==v.length&&v.on("pageBeforeRemove",e)}},l.pullToRefreshDone=function(a){a=n(a),0===a.length&&(a=n(".pull-to-refresh-content.refreshing")),a.removeClass("refreshing").addClass("transitioning"),a.transitionEnd(function(){a.removeClass("transitioning pull-up pull-down")})},l.pullToRefreshTrigger=function(a){a=n(a),0===a.length&&(a=n(".pull-to-refresh-content")),a.hasClass("refreshing")||(a.addClass("transitioning refreshing"),a.trigger("refresh",{done:function(){l.pullToRefreshDone(a)}}))},l.attachInfiniteScroll=function(a){n(a).on("scroll",j)},l.detachInfiniteScroll=function(a){n(a).off("scroll",j)},l.initInfiniteScroll=function(a){function b(){l.detachInfiniteScroll(c),a.off("pageBeforeRemove",b)}a=n(a);var c=a.find(".infinite-scroll");l.attachInfiniteScroll(c),a.on("pageBeforeRemove",b)},l.showTab=function(a,b){var c=n(a);if(c.hasClass("active"))return!1;if(0===c.length)return!1;var d=c.parent(".tabs");if(0===d.length)return!1;l.allowSwipeout=!0;var e=d.parent().hasClass("tabs-animated-wrap");e&&d.transform("translate3d("+100*-c.index()+"%,0,0)");var f=d.children(".tab.active").removeClass("active");if(c.addClass("active"),c.trigger("show"),!e&&c.find(".navbar").length>0){var g;g=c.hasClass(l.params.viewClass)?c[0]:c.parents("."+l.params.viewClass)[0],l.sizeNavbars(g)}if(b?b=n(b):(b=n("string"==typeof a?'.tab-link[href="'+a+'"]':'.tab-link[href="#'+c.attr("id")+'"]'),0===b.length&&n("[data-tab]").each(function(){c.is(n(this).attr("data-tab"))&&(b=n(this))})),0!==b.length){var h;if(f&&f.length>0){var i=f.attr("id");i&&(h=n('.tab-link[href="#'+i+'"]')),0===h.length&&n("[data-tab]").each(function(){f.is(n(this).attr("data-tab"))&&(h=n(this))})}return b&&b.length>0&&b.addClass("active"),h&&h.length>0&&h.removeClass("active"),!0}},l.accordionToggle=function(a){a=n(a),0!==a.length&&(a.hasClass("accordion-item-expanded")?l.accordionClose(a):l.accordionOpen(a))},l.accordionOpen=function(a){a=n(a);var b=a.parents(".accordion-list"),c=a.find(".accordion-item-content"),d=b.find(".accordion-item-expanded");d.length>0&&l.accordionClose(d),c.css("height",c[0].scrollHeight+"px").transitionEnd(function(){if(a.hasClass("accordion-item-expanded")){c.transition(0),c.css("height","auto");{c[0].clientLeft}c.transition(""),a.trigger("opened")}else c.css("height",""),a.trigger("closed")}),a.trigger("open"),a.addClass("accordion-item-expanded")},l.accordionClose=function(a){a=n(a);var b=a.find(".accordion-item-content");a.removeClass("accordion-item-expanded"),b.transition(0),b.css("height",b[0].scrollHeight+"px");b[0].clientLeft;b.transition(""),b.css("height","").transitionEnd(function(){if(a.hasClass("accordion-item-expanded")){b.transition(0),b.css("height","auto");{b[0].clientLeft}b.transition(""),a.trigger("opened")}else b.css("height",""),a.trigger("closed")}),a.trigger("close")},l.initFastClicks=function(){function a(a){var b=n(a.target),c=b.parents(l.params.activeStateElements);return c.length>0?c:b
}function b(){var a=B.parents(".page-content, .panel");return 0===a.length?!1:("yes"!==a.prop("scrollHandlerSet")&&(a.on("scroll",function(){clearTimeout(C)}),a.prop("scrollHandlerSet","yes")),!0)}function c(){B.addClass("active-state")}function d(){B.removeClass("active-state")}function e(a){var b="button checkbox file image radio submit input textarea".split(" ");return document.activeElement&&a!==document.activeElement&&document.activeElement!==document.body?b.indexOf(a.nodeName.toLowerCase())>=0?!1:!0:!1}function f(a){return"input"===a.nodeName.toLowerCase()&&"file"===a.type?!1:a.className.indexOf("no-fastclick")>=0?!1:!0}function g(a){if(document.activeElement===a)return!1;var b=a.nodeName.toLowerCase(),c="button checkbox file image radio submit".split(" ");return a.disabled||a.readOnly?!1:"textarea"===b?!0:"select"===b?"android"===l.device.os?!1:!0:"input"===b&&c.indexOf(a.type)<0?!0:void 0}function h(a){if(a=n(a),a.is("label")||a.parents("label").length>0){if("android"===l.device.os){var b=l.device.osVersion.split(".");return 1*b[0]>4||1*b[0]===4&&1*b[1]>=4?!1:!0}return!1}return!0}function i(b){a(b).addClass("active-state"),"which"in b&&3===b.which&&setTimeout(function(){n(".active-state").removeClass("active-state")},0)}function j(){n(".active-state").removeClass("active-state")}function k(){n(".active-state").removeClass("active-state")}function m(d){if(A=!1,d.targetTouches.length>1)return!0;if(D=f(d.target),!D)return w=!1,!0;if("ios"===l.device.os){var g=window.getSelection();if(g.rangeCount&&(!g.isCollapsed||document.activeElement===g.focusNode))return x=!0,!0;x=!1}"android"===l.device.os&&e(d.target)&&document.activeElement.blur(),w=!0,v=d.target,u=(new Date).getTime(),s=d.targetTouches[0].pageX,t=d.targetTouches[0].pageY,"ios"===l.device.os&&(y=void 0,n(v).parents().each(function(){var a=this;a.scrollHeight>a.offsetHeight&&!y&&(y=a,y.f7ScrollTop=y.scrollTop)})),d.timeStamp-z<200&&d.preventDefault(),l.params.activeState&&(B=a(d),b(d)?C=setTimeout(c,80):c())}function o(a){if(w){var b=!1,c=l.params.fastClicksDistanceThreshold;if(c){var e=a.targetTouches[0].pageX,f=a.targetTouches[0].pageY;(Math.abs(e-s)>c||Math.abs(f-t)>c)&&(b=!0)}else b=!0;b&&(w=!1,v=null,A=!0),l.params.activeState&&(clearTimeout(C),d())}}function p(a){if(clearTimeout(C),!w)return!x&&D&&a.preventDefault(),!0;if(document.activeElement===a.target)return!0;if(x||a.preventDefault(),a.timeStamp-z<200)return!0;if(z=a.timeStamp,u=0,w=!1,"ios"===l.device.os&&y&&y.scrollTop!==y.f7ScrollTop)return!1;l.params.activeState&&(c(),setTimeout(d,0)),g(v)&&v.focus(),a.preventDefault();var b=a.changedTouches[0],e=document.createEvent("MouseEvents"),f="click";return"android"===l.device.os&&"select"===v.nodeName.toLowerCase()&&(f="mousedown"),e.initMouseEvent(f,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),e.forwardedTouchEvent=!0,v.dispatchEvent(e),!1}function q(){w=!1,v=null}function r(a){var b=!1;return w?(v=null,w=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(v||(b=!0),document.activeElement===v&&(b=!0),a.forwardedTouchEvent&&(b=!0),a.cancelable||(b=!0),b||(a.stopImmediatePropagation(),a.stopPropagation(),v?(h(v)||A)&&a.preventDefault():a.preventDefault(),v=null),b)}l.params.activeState&&n("html").addClass("watch-active-state");var s,t,u,v,w,x,y,z,A,B,C,D;l.support.touch?(document.addEventListener("click",r,!0),l.addGlobalEventListener("touchstart",m),l.addGlobalEventListener("touchmove",o),l.addGlobalEventListener("touchend",p),l.addGlobalEventListener("touchcancel",q)):l.params.activeState&&(l.addGlobalEventListener("mousedown",i),l.addGlobalEventListener("mousemove",j),l.addGlobalEventListener("mouseup",k))},l.initClickEvents=function(){function a(a){function b(a){return"false"===a?!1:"true"===a?!0:void 0}var c=n(this),d=c.attr("href"),e="a"===c[0].nodeName.toLowerCase();if(e)for(var f=0;f<l.params.externalLinks.length;f++){if(c.hasClass(l.params.externalLinks[f]))return;if(c[0].rel===l.params.externalLinks[f])return}if(c.hasClass("smart-select")&&l.smartSelectOpen&&l.smartSelectOpen(c),c.hasClass("open-panel")&&l.openPanel(1===n(".panel").length?n(".panel").hasClass("panel-left")?"left":"right":"right"===c.attr("data-panel")?"right":"left"),c.hasClass("close-panel")&&l.closePanel(),c.hasClass("panel-overlay")&&l.params.panelsCloseByOutside&&l.closePanel(),c.hasClass("open-popover")){var g;g=c.attr("data-popover")?c.attr("data-popover"):".popover",l.popover(g,c)}c.hasClass("close-popover")&&l.closeModal(".popover.modal-in");var h;c.hasClass("open-popup")&&(h=c.attr("data-popup")?c.attr("data-popup"):".popup",l.popup(h)),c.hasClass("close-popup")&&(h=c.attr("data-popup")?c.attr("data-popup"):".popup.modal-in",l.closeModal(h));var i;if(c.hasClass("open-login-screen")&&(i=c.attr("data-login-screen")?c.attr("data-login-screen"):".login-screen",l.loginScreen(i)),c.hasClass("close-login-screen")&&l.closeModal(".login-screen.modal-in"),c.hasClass("modal-overlay")&&(n(".modal.modal-in").length>0&&l.params.modalCloseByOutside&&l.closeModal(".modal.modal-in"),n(".actions-modal.modal-in").length>0&&l.params.actionsCloseByOutside&&l.closeModal(".actions-modal.modal-in"),n(".popover.modal-in").length>0&&l.closeModal(".popover.modal-in")),c.hasClass("popup-overlay")&&n(".popup.modal-in").length>0&&l.params.popupCloseByOutside&&l.closeModal(".popup.modal-in"),c.hasClass("tab-link")&&l.showTab(c.attr("data-tab")||c.attr("href"),c),c.hasClass("swipeout-delete"))if(c.attr("data-confirm")){var j=c.attr("data-confirm"),k=c.attr("data-confirm-title");k?l.confirm(j,k,function(){l.swipeoutDelete(c.parents(".swipeout"))}):l.confirm(j,function(){l.swipeoutDelete(c.parents(".swipeout"))})}else l.swipeoutDelete(c.parents(".swipeout"));if(c.hasClass("toggle-sortable")&&l.sortableToggle(c.data("sortable")),c.hasClass("open-sortable")&&l.sortableOpen(c.data("sortable")),c.hasClass("close-sortable")&&l.sortableClose(c.data("sortable")),c.hasClass("accordion-item-toggle")||c.hasClass("item-link")&&c.parent().hasClass("accordion-item")){var m=c.parents(".accordion-item");0===m.length&&(m=c.parents("li")),l.accordionToggle(m)}if((!l.params.ajaxLinks||c.is(l.params.ajaxLinks))&&e){e&&a.preventDefault();var o=d&&d.length>0&&0!==d.indexOf("#");if(o||c.hasClass("back")){var p;if(c.attr("data-view")?p=n(c.attr("data-view"))[0].f7View:(p=c.parents("."+l.params.viewClass)[0]&&c.parents("."+l.params.viewClass)[0].f7View,p&&p.params.linksView&&(p=n(p.params.linksView)[0].f7View)),!p)for(var f=0;f<l.views.length;f++)l.views[f].main&&(p=l.views[f]);if(!p)return;var q;c.attr("data-animatePages")?q=b(c.attr("data-animatePages")):(c.hasClass("with-animation")&&(q=!0),c.hasClass("no-animation")&&(q=!1));var r={animatePages:q,ignoreCache:b(c.attr("data-ignoreCache")),forceUrl:b(c.attr("data-forceUrl")),reload:b(c.attr("data-reload")),reloadPrevious:b(c.attr("data-reloadPrevious")),url:c.attr("href")};c.hasClass("back")?p.goBack(r):p.loadPage(r)}}}n(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle",a)},l.initResize=function(){n(window).on("resize",l.resize),n(window).on("orientationchange",l.orientationchange)},l.resize=function(){l.sizeNavbars&&l.sizeNavbars(),k()},l.orientationchange=function(){l.device&&l.device.minimalUi&&(90===window.orientation||-90===window.orientation)&&(document.body.scrollTop=0),k()},l.formsData={},l.formStoreData=function(a,b){l.formsData[a]=b,l.ls["f7form-"+a]=JSON.stringify(b)},l.formDeleteData=function(a){l.formsData[a]&&(l.formsData[a]="",delete l.formsData[a]),l.ls["f7form-"+a]&&(l.ls["f7form-"+a]="",l.ls.removeItem("f7form-"+a))},l.formGetData=function(a){return l.ls["f7form-"+a]?JSON.parse(l.ls["f7form-"+a]):l.formsData[a]?l.formsData[a]:void 0},l.formToJSON=function(a){if(a=n(a),1!==a.length)return!1;var b={},c=["submit","image","button","file"],d=[];return a.find("input, select, textarea").each(function(){var e=n(this),f=e.attr("name"),g=e.attr("type"),h=this.nodeName.toLowerCase();if(!(c.indexOf(g)>=0||d.indexOf(f)>=0||!f))if("select"===h&&e.attr("multiple"))d.push(f),b[f]=[],a.find('select[name="'+f+'"] option').each(function(){this.selected&&b[f].push(this.value)});else switch(g){case"checkbox":d.push(f),b[f]=[],a.find('input[name="'+f+'"]').each(function(){this.checked&&b[f].push(this.value)});break;case"radio":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked&&(b[f]=this.value)});break;default:b[f]=e.val()}}),b},l.formFromJSON=function(a,b){if(a=n(a),1!==a.length)return!1;var c=["submit","image","button","file"],d=[];a.find("input, select, textarea").each(function(){var e=n(this),f=e.attr("name"),g=e.attr("type"),h=this.nodeName.toLowerCase();if(b[f]&&!(c.indexOf(g)>=0||d.indexOf(f)>=0||!f))if("select"===h&&e.attr("multiple"))d.push(f),a.find('select[name="'+f+'"] option').each(function(){this.selected=b[f].indexOf(this.value)>=0?!0:!1});else switch(g){case"checkbox":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked=b[f].indexOf(this.value)>=0?!0:!1});break;case"radio":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked=b[f]===this.value?!0:!1});break;default:e.val(b[f])}})},l.initFormsStorage=function(a){function b(){var a=n(this),b=a[0].id;if(b){var c=l.formToJSON(a);c&&(l.formStoreData(b,c),a.trigger("store",{data:c}))}}function c(){d.off("change submit",b),a.off("pageBeforeRemove",c)}if(a=n(a),0!==a.length){var d=a.find("form.store-data");0!==d.length&&(d.each(function(){var a=this.getAttribute("id");if(a){var b=l.formGetData(a);b&&l.formFromJSON(this,b)}}),d.on("change submit",b),a.on("pageBeforeRemove",c))}},n(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(a){var b=n(this);if("change"!==a.type||b.hasClass("ajax-submit-onchange")){"submit"===a.type&&a.preventDefault();var c=b.attr("method")||"GET",d=b.attr("enctype"),e=b.attr("action");if(e){var f;f="POST"===c?new FormData(b[0]):n.serializeObject(l.formToJSON(b[0]));var g=n.ajax({method:c,url:e,contentType:d,data:f,success:function(a){b.trigger("submitted",{data:a,xhr:g})}})}}}),l.pushStateQueue=[],l.pushStateClearQueue=function(){if(0!==l.pushStateQueue.length){var a,b=l.pushStateQueue.pop();l.params.pushStateNoAnimation===!0&&(a=!1),"goBack"===b.action&&l.goBack(b.view,{animatePages:a}),"loadPage"===b.action&&l.loadPage(b.view,{url:b.stateUrl,animatePages:a,pushState:!1}),"loadContent"===b.action&&l.loadPage(b.view,{content:b.stateContent,animatePages:a,pushState:!1})}},l.initPushState=function(){function a(a){if(!b){for(var c,d=0;d<l.views.length;d++)l.views[d].main&&(c=l.views[d]);if(c){var e=a.state;e||(e={url:c.history[0]});var f,g=e&&e.url||void 0,h=e&&e.content||void 0;l.params.pushStateNoAnimation===!0&&(f=!1),g!==c.url&&(c.history.indexOf(g)>=0?c.allowPageChange?l.goBack(c,{url:void 0,animatePages:f,pushState:!1,preloadOnly:!1}):l.pushStateQueue.push({action:"goBack",view:c}):g&&!h?c.allowPageChange?l.loadPage(c,{url:g,animatePages:f,pushState:!1}):l.pushStateQueue.unshift({action:"loadPage",stateUrl:g,view:c}):h&&(c.allowPageChange?l.loadPage(c,{content:h,animatePages:f,pushState:!1}):l.pushStateQueue.unshift({action:"loadContent",stateContent:h,view:c})))}}}var b=!0;n(window).on("load",function(){setTimeout(function(){b=!1},0)}),n(window).on("popstate",a)};var t=function(a,b){var c={initialSlide:0,spaceBetween:0,speed:300,slidesPerView:1,direction:"horizontal",paginationHide:!0,slideClass:"slider-slide",slideActiveClass:"slider-slide-active",slideNextClass:"slider-slide-next",slidePrevClass:"slider-slide-prev",wrapperClass:"slider-wrapper",bulletClass:"slider-pagination-bullet",bulletActiveClass:"slider-pagination-active",preventClicks:!0,preventClicksPropagation:!0,autoplay:!1,autoplayDisableOnInteraction:!0};b=b||{};for(var d in c)"undefined"==typeof b[d]&&(b[d]=c[d]);var e=this;if(e.params=b,e.container=n(a),0!==e.container.length){e.container[0].f7Slider=e,e.container.addClass("vertical"===e.params.direction?"slider-container-vertical":"slider-container-horizontal"),e.wrapper=e.container.children("."+e.params.wrapperClass),e.params.pagination&&(e.paginationContainer=n(e.params.pagination)),e.activeSlideIndex=e.previousSlideIndex=e.params.initialSlide||0;var f="horizontal"===e.params.direction,g=f&&l.rtl?-1:1;e.updateSlides=function(){if(e.slides=e.wrapper.children("."+e.params.slideClass),0!==e.params.spaceBetween){var a=l.rtl?"marginLeft":"marginRight";f?e.slides.css(a,e.params.spaceBetween+"px"):e.slides.css({marginBottom:e.params.spaceBetween+"px"})}if(e.params.slidesPerView>1){var c="(100% - "+(e.params.slidesPerView-1)*b.spaceBetween+"px)/"+e.params.slidesPerView;f?(e.slides.css("width","-webkit-calc("+c+")"),e.slides.css("width","-moz-calc("+c+")"),e.slides.css("width","calc("+c+")")):(e.slides.css("height","-webkit-calc("+c+")"),e.slides.css("height","-moz-calc("+c+")"),e.slides.css("height","calc("+c+")"))}},e.updatePagination=function(){if(e.paginationContainer&&e.paginationContainer.length>0){for(var a="",b=0;b<e.slides.length-e.params.slidesPerView+1;b++)a+='<span class="'+e.params.bulletClass+'"></span>';e.paginationContainer.html(a),e.bullets=e.paginationContainer.find("."+e.params.bulletClass)}},e.updateSize=function(){e.width=e.container[0].offsetWidth,e.height=e.container[0].offsetHeight,e.size=f?e.width:e.height},e.attachEvents=function(a){var b=a?"off":"on";e.container[b](l.touchEvents.start,e.onTouchStart),e.container[b](l.touchEvents.move,e.onTouchMove),e.container[b](l.touchEvents.end,e.onTouchEnd),n(window)[b]("resize",e.onResize),e.params.nextButton&&n(e.params.nextButton)[b]("click",e.onClickNext),e.params.prevButton&&n(e.params.prevButton)[b]("click",e.onClickPrev),e.params.indexButton&&n(e.params.indexButton)[b]("click",e.onClickIndex),(e.params.preventClicks||e.params.preventClicksPropagation)&&e.container[b]("click",e.onClick,!0)},e.detachEvents=function(){e.attachEvents(!0)},e.onResize=function(){e.updateSize(),e.slideTo(e.activeSlideIndex,0,!1)};var h,i,j,k,m,o,p={},q={},r=!1,s=Date.now();e.allowClick=!0,e.onClick=function(a){e.params.preventClicks&&!e.allowClick&&(a.preventDefault(),e.params.preventClicksPropagation&&(a.stopPropagation(),a.stopImmediatePropagation()))},e.onTouchStart=function(a){h=!0,i=!1,k=void 0,p.x=q.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,p.y=q.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,j=Date.now(),e.allowClick=!0,e.updateSize(),e.params.onTouchStart&&e.params.onTouchStart(e,a),"mousedown"===a.type&&a.preventDefault()},e.onTouchMove=function(a){if(e.params.onTouchMove&&e.params.onTouchMove(e,a),e.allowClick=!1,!(a.targetTouches&&a.targetTouches.length>1)&&(q.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,q.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof k&&(k=!!(k||Math.abs(q.y-p.y)>Math.abs(q.x-p.x))),(f&&k||!f&&!k)&&e.params.onOppositeTouchMove&&e.params.onOppositeTouchMove(e,a),h)){if(f&&k||!f&&!k)return void(h=!1);e.params.onSliderMove&&e.params.onSliderMove(e,a),a.preventDefault(),a.stopPropagation(),i||(m=n.getTranslate(e.wrapper[0],f?"x":"y")*g,e.wrapper.transition(0),r&&e.onTransitionEnd(),b.autoplay&&u&&(e.params.autoplayDisableOnInteraction?e.stopAutoplay():t&&clearTimeout(t))),i=!0;var c=f?(q.x-p.x)*g:q.y-p.y;c>0&&0===e.activeSlideIndex?c=Math.pow(c,.85):0>c&&e.activeSlideIndex===e.slides.length-e.params.slidesPerView&&(c=-Math.pow(-c,.85));var d=f?(c+m)*g:0,j=f?0:c+m;e.wrapper.transform("translate3d("+d+"px, "+j+"px,0)")}},e.onTouchEnd=function(a){e.params.onTouchEnd&&e.params.onTouchEnd(e,a);var b=Date.now(),c=b-j;if(e.allowClick&&(300>c&&b-s>300&&(o&&clearTimeout(o),o=setTimeout(function(){e&&(e.params.paginationHide&&e.paginationContainer&&e.paginationContainer.toggleClass("slider-pagination-hidden"),e.params.onClick&&e.params.onClick(e,a))},300)),300>c&&300>b-s&&(o&&clearTimeout(o),e.params.onDoubleTap&&e.params.onDoubleTap(e,a)),e.params.onTap&&e.params.onTap(e,a)),s=Date.now(),!h||!i)return void(h=i=!1);h=i=!1;var d=f?(q.x-p.x)*g:q.y-p.y;Math.abs(d)<5&&300>c&&e.allowClick===!1&&(e.allowClick=!0),setTimeout(function(){e&&(e.allowClick=!0)},100);var k=e.params.autoplay&&u&&!e.params.autoplayDisableOnInteraction;if(0===d)return void(k&&e.startAutoplay());var l=1,m=e.size/e.params.slidesPerView;e.params.slidesPerView>1&&(l=Math.abs((Math.abs(d)+m/2)/m)),k&&e.wrapper.transitionEnd(function(){e.startAutoplay()}),c>300?-m/2>=d?e.slideTo(e.activeSlideIndex+Math.floor(l)):d>m/2?e.slideTo(e.activeSlideIndex-Math.floor(l)):e.slideReset():Math.abs(d)<10?e.slideReset():e.slideTo(0>d?e.activeSlideIndex+Math.round(l):e.activeSlideIndex-Math.round(l))},e.slideTo=function(a,b,c){"undefined"==typeof a&&(a=0),0>a&&(a=0),a>e.slides.length-e.params.slidesPerView&&(a=e.slides.length-e.params.slidesPerView);var d=-(e.size+e.params.spaceBetween)*a/e.params.slidesPerView;"undefined"==typeof b&&(b=e.params.speed),e.previousSlideIndex=e.activeSlideIndex,e.activeSlideIndex=Math.round(a),e.isFirst=0===e.activeSlideIndex,e.isLast=e.activeSlideIndex===e.slides.length-e.params.slidesPerView,e.onTransitionStart();var h=f?d*g:0,i=f?0:d;0===b?(e.wrapper.transition(0).transform("translate3d("+h+"px,"+i+"px,0)"),c!==!1&&e.onTransitionEnd()):(r=!0,e.wrapper.transition(b).transform("translate3d("+h+"px,"+i+"px,0)").transitionEnd(function(){c!==!1&&e.onTransitionEnd()}))},e.updateClasses=function(){e.slides.removeClass(e.params.slideActiveClass+" "+e.params.slideNextClass+" "+e.params.slidePrevClass);var a=e.slides.eq(e.activeSlideIndex);a.addClass(e.params.slideActiveClass),a.next().addClass(e.params.slideNextClass),a.prev().addClass(e.params.slidePrevClass),e.bullets&&e.bullets.length>0&&(e.bullets.removeClass(e.params.bulletActiveClass),e.bullets.eq(e.activeSlideIndex).addClass(e.params.bulletActiveClass))},e.onTransitionStart=function(){e.updateClasses(),e.activeSlideIndex!==e.previousSlideIndex&&e.params.onSlideChangeStart&&e.params.onSlideChangeStart(e),e.params.onTransitionStart&&e.params.onTransitionStart(e)},e.onTransitionEnd=function(){r=!1,e.wrapper.transition(0),e.activeSlideIndex!==e.previousSlideIndex&&e.params.onSlideChangeEnd&&e.params.onSlideChangeEnd(e),e.params.onTransitionEnd&&e.params.onTransitionEnd(e)},e.slideNext=function(){e.slideTo(e.activeSlideIndex+1)},e.slidePrev=function(){e.slideTo(e.activeSlideIndex-1)},e.slideReset=function(){e.slideTo(e.activeSlideIndex)},e.onClickNext=function(a){a.preventDefault(),e.slideNext()},e.onClickPrev=function(a){a.preventDefault(),e.slidePrev()},e.onClickIndex=function(a){a.preventDefault(),e.slideTo(n(this).index())};var t,u;return e.startAutoplay=function(){e.params.autoplay&&(u=!0,t&&clearTimeout(t),t=setTimeout(function(){e.wrapper.transitionEnd(function(){e.startAutoplay()});var a=e.activeSlideIndex+1;a>e.slides.length-e.params.slidesPerView&&(a=0),e.slideTo(a)},e.params.autoplay))},e.stopAutoplay=function(){u=!1,t&&clearTimeout(t)},e.resetAutoplay=function(){e.stopAutoplay(),e.startAutoplay()},e.init=function(){e.updateSlides(),e.updatePagination(),e.updateSize(),e.params.initialSlide>0?e.slideTo(e.params.initialSlide,0,!1):e.updateClasses(),e.attachEvents(),e.params.autoplay&&e.startAutoplay()},e.update=function(){e.updateSlides(),e.updatePagination(),e.updateSize(),e.updateClasses()},e.destroy=function(){e.detachEvents(),e.params.onDestroy&&e.params.onDestroy(),e=void 0},e.init(),e}};l.slider=function(a,b){return new t(a,b)},l.initSlider=function(a){function b(a){function b(){a.destroy(),c.off("pageBeforeRemove",b)}c.on("pageBeforeRemove",b)}var c=n(a),d=c.find(".slider-init");if(0!==d.length)for(var e=0;e<d.length;e++){var f,g=d.eq(e);f=g.data("slider")?JSON.parse(g.data("slider")):{initialSlide:parseInt(g.data("initialSlide"),10)||void 0,spaceBetween:parseInt(g.data("spaceBetween"),10)||void 0,speed:parseInt(g.data("speed"),10)||void 0,slidesPerView:g.data("slidesPerView"),direction:g.data("direction"),pagination:g.data("pagination"),paginationHide:g.data("paginationHide")&&("true"===g.data("paginationHide")?!0:!1),slideClass:g.data("slideClass"),slideActiveClass:g.data("slideActiveClass"),slideNextClass:g.data("slideNextClass"),slidePrevClass:g.data("slidePrevClass"),wrapperClass:g.data("wrapperClass"),bulletClass:g.data("bulletClass"),bulletActiveClass:g.data("bulletActiveClass"),nextButton:g.data("nextButton"),prevButton:g.data("prevButton"),indexButton:g.data("indexButton"),autoplay:g.data("autoplay")};var h=l.slider(g[0],f);b(h)}};var u=function(a){function b(){var a;for(c=0;c<l.views.length;c++)l.views[c].main&&(a=l.views[c]);return a}var c,d=this,e={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of"};a=a||{};for(var f in e)"undefined"==typeof a[f]&&(a[f]=e[f]);d.params=a;var g="dark"===d.params.theme?"color-white":"",h=d.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("page"===d.params.type&&"back")+' close-popup photo-browser-close-link" data-popup=".photo-browser-popup"><i class="icon icon-back '+g+'"></i><span>'+d.params.backLinkText+'</span></a></div><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+d.params.ofText+'</span> <span class="photo-browser-total"></span></div><div class="right"></div></div></div>',i=l.rtl?"next":"prev",j=l.rtl?"prev":"next",k=d.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-'+i+" "+g+'"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-'+j+" "+g+'"></i></a></div></div>',m=d.params.template||'<div class="photo-browser photo-browser-'+d.params.theme+'"><div class="view navbar-fixed toolbar-fixed">{{navbar}}<div data-page="photo-browser-slides" class="page no-toolbar {{noNavbar}} toolbar-fixed navbar-fixed">{{toolbar}}{{captions}}<div class="photo-browser-slider-container slider-container"><div class="photo-browser-slider-wrapper slider-wrapper">{{photos}}</div></div></div></div></div>',o=d.params.photoTemplate||'<div class="photo-browser-slide slider-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',p=d.params.captionsTheme||d.params.theme,q=d.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+p+'">{{captions}}</div>',r=d.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',s=d.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide slider-slide">{{html}}</div>',t="",u="";for(c=0;c<d.params.photos.length;c++){var v=d.params.photos[c],w="";"string"==typeof v||v instanceof String?w=v.indexOf("<")>=0||v.indexOf(">")>=0?s.replace(/{{html}}/g,v):o.replace(/{{url}}/g,v):"object"==typeof v&&(v.hasOwnProperty("html")&&v.html.length>0?w=s.replace(/{{html}}/g,v.html):v.hasOwnProperty("url")&&v.url.length>0&&(w=o.replace(/{{url}}/g,v.url)),v.hasOwnProperty("caption")&&v.caption.length>0?u+=r.replace(/{{caption}}/g,v.caption).replace(/{{captionIndex}}/g,c):w=w.replace(/{{caption}}/g,"")),t+=w}var x=m.replace("{{navbar}}",d.params.navbar?h:"").replace("{{noNavbar}}",d.params.navbar?"":"no-navbar").replace("{{photos}}",t).replace("{{captions}}",q.replace(/{{captions}}/g,u)).replace("{{toolbar}}",d.params.toolbar?k:"");d.activeSlideIndex=d.params.initialSlide,d.openIndex=d.activeSlideIndex,d.opened=!1,d.open=function(a){return"undefined"==typeof a&&(a=d.activeSlideIndex),a=parseInt(a,10),d.opened&&d.slider?void d.slider.slideTo(a):(d.opened=!0,d.openIndex=a,"standalone"===d.params.type&&n("body").append(x),"popup"===d.params.type&&(d.popup=l.popup('<div class="popup photo-browser-popup">'+x+"</div>"),n(d.popup).on("closed",d.onPopupClose)),"page"===d.params.type?(n(document).on("pageBeforeInit",d.onPageBeforeInit),n(document).on("pageBeforeRemove",d.onPageBeforeRemove),d.params.view||(d.params.view=b()),void d.params.view.loadContent(x)):(d.layout(d.openIndex),void(d.params.onOpen&&d.params.onOpen(d))))},d.close=function(){d.opened=!1,d.sliderContainer&&0!==d.sliderContainer.length&&(d.params.onClose&&d.params.onClose(d),d.attachEvents(!0),"standalone"===d.params.type&&d.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){d.container.remove()}),d.slider.destroy(),d.slider=d.sliderContainer=d.sliderWrapper=d.slides=y=z=A=void 0)},d.onPopupClose=function(){d.close(),n(d.popup).off("pageBeforeInit",d.onPopupClose)},d.onPageBeforeInit=function(a){"photo-browser-slides"===a.detail.page.name&&d.layout(d.openIndex),n(document).off("pageBeforeInit",d.onPageBeforeInit)},d.onPageBeforeRemove=function(a){"photo-browser-slides"===a.detail.page.name&&d.close(),n(document).off("pageBeforeRemove",d.onPageBeforeRemove)},d.layout=function(a){d.container="page"===d.params.type?n(".photo-browser-slider-container").parents(".view"):n(".photo-browser"),"standalone"===d.params.type&&(d.container.addClass("photo-browser-in"),l.sizeNavbars(d.container)),d.sliderContainer=d.container.find(".photo-browser-slider-container"),d.sliderWrapper=d.container.find(".photo-browser-slider-wrapper"),d.slides=d.container.find(".photo-browser-slide"),d.captionsContainer=d.container.find(".photo-browser-captions"),d.captions=d.container.find(".photo-browser-caption");var b={nextButton:d.params.nextButton||".photo-browser-next",prevButton:d.params.prevButton||".photo-browser-prev",indexButton:d.params.indexButton,initialSlide:a,spaceBetween:d.params.spaceBetween,speed:d.params.speed,onTap:function(a,b){d.params.onTap&&d.params.onTap(a,b)},onClick:function(a,b){d.params.exposition&&d.toggleExposition(),d.params.onClick&&d.params.onClick(a,b)},onDoubleTap:function(a,b){d.toggleZoom(n(b.target).parents(".photo-browser-slide")),d.params.onDoubleTap&&d.params.onDoubleTap(a,b)},onSlideChangeStart:function(a){d.activeSlideIndex=a.activeSlideIndex,d.container.find(".photo-browser-current").text(a.activeSlideIndex+1),d.container.find(".photo-browser-total").text(a.slides.length),n(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),a.isFirst&&n(".photo-browser-prev").addClass("photo-browser-link-inactive"),a.isLast&&n(".photo-browser-next").addClass("photo-browser-link-inactive"),d.captions.length>0&&(d.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active"),d.captionsContainer.find('[data-caption-index="'+d.activeSlideIndex+'"]').addClass("photo-browser-caption-active"));var b=a.slides.eq(a.previousSlideIndex).find("video");b.length>0&&"pause"in b[0]&&b[0].pause(),d.params.onSlideChangeStart&&d.params.onSlideChangeStart(a)},onSlideChangeEnd:function(a){d.params.zoom&&y&&a.previousSlideIndex!==a.activeSlideIndex&&(z.transform("translate3d(0,0,0) scale(1)"),A.transform("translate3d(0,0,0)"),y=z=A=void 0,B=C=1),d.params.onSlideChangeEnd&&d.params.onSlideChangeEnd(a)}};d.params.swipeToClose&&"page"!==d.params.type&&(b.onTouchStart=d.swipeCloseTouchStart,b.onOppositeTouchMove=d.swipeCloseTouchMove,b.onTouchEnd=d.swipeCloseTouchEnd),d.slider=l.slider(d.sliderContainer,b),d.attachEvents()},d.attachEvents=function(a){var b=a?"off":"on";d.params.zoom&&(d.slides[b]("gesturestart",d.onSlideGestureStart),d.slides[b]("gesturechange",d.onSlideGestureChange),d.slides[b]("gestureend",d.onSlideGestureEnd),d.slides[b](l.touchEvents.start,d.onSlideTouchStart),d.slides[b](l.touchEvents.move,d.onSlideTouchMove),d.slides[b](l.touchEvents.end,d.onSlideTouchEnd)),d.container.find(".photo-browser-close-link")[b]("click",d.close)};d.exposed=!1,d.toggleExposition=function(){d.container&&d.container.toggleClass("photo-browser-exposed"),d.params.expositionHideCaptions&&d.captionsContainer.toggleClass("photo-browser-captions-exposed"),d.exposed=!d.exposed},d.expositionOn=function(){d.container&&d.container.addClass("photo-browser-exposed"),d.params.expositionHideCaptions&&d.captionsContainer.addClass("photo-browser-captions-exposed"),d.exposed=!0},d.expositionOff=function(){d.container&&d.container.removeClass("photo-browser-exposed"),d.params.expositionHideCaptions&&d.captionsContainer.removeClass("photo-browser-captions-exposed"),d.exposed=!1};var y,z,A,B=1,C=1,D=!1;d.onSlideGestureStart=function(){y||(y=n(this),z=y.find("img"),A=z.parent()),z.transition(0),D=!0},d.onSlideGestureChange=function(a){B=a.scale*C,B>d.params.maxZoom&&(B=d.params.maxZoom-1+Math.pow(B-d.params.maxZoom+1,.5)),B<d.params.minZoom&&(B=d.params.minZoom+1-Math.pow(d.params.minZoom-B+1,.5)),z.transform("translate3d(0,0,0) scale("+B+")")},d.onSlideGestureEnd=function(){B=Math.max(Math.min(B,d.params.maxZoom),d.params.minZoom),z.transition(d.params.speed).transform("translate3d(0,0,0) scale("+B+")"),C=B,D=!1,1===B&&(y=void 0)},d.toggleZoom=function(){y||(y=d.slides.eq(d.slider.activeSlideIndex),z=y.find("img"),A=z.parent()),A.transition(300).transform("translate3d(0,0,0)"),B&&1!==B?(B=C=1,z.transition(300).transform("translate3d(0,0,0) scale(1)"),y=void 0):(B=C=d.params.maxZoom,z.transition(300).transform("translate3d(0,0,0) scale("+B+")"))};var E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V={},W={};d.onSlideTouchStart=function(a){E||("android"===l.device.os&&a.preventDefault(),E=!0,V.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,V.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY)},d.onSlideTouchMove=function(a){if(d.slider.allowClick=!1,E&&y){F||(M=z[0].offsetWidth,N=z[0].offsetHeight,O=n.getTranslate(A[0],"x")||0,P=n.getTranslate(A[0],"y")||0,A.transition(0));var b=M*B,c=N*B;if(!(b<d.slider.width&&c<d.slider.height)){if(I=Math.min(d.slider.width/2-b/2,0),K=-I,J=Math.min(d.slider.height/2-c/2,0),L=-J,W.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,W.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,!F&&!D&&(Math.floor(I)===Math.floor(O)&&W.x<V.x||Math.floor(K)===Math.floor(O)&&W.x>V.x))return void(E=!1);a.stopPropagation(),F=!0,G=W.x-V.x+O,H=W.y-V.y+P,I>G&&(G=I+1-Math.pow(I-G+1,.8)),G>K&&(G=K-1+Math.pow(G-K+1,.8)),J>H&&(H=J+1-Math.pow(J-H+1,.8)),H>L&&(H=L-1+Math.pow(H-L+1,.8)),Q||(Q=W.x),T||(T=W.y),R||(R=Date.now()),S=(W.x-Q)/(Date.now()-R)/2,U=(W.y-T)/(Date.now()-R)/2,Math.abs(W.x-Q)<2&&(S=0),Math.abs(W.y-T)<2&&(U=0),Q=W.x,T=W.y,R=Date.now(),A.transform("translate3d("+G+"px, "+H+"px,0)")}}},d.onSlideTouchEnd=function(){if(!E||!F)return E=!1,void(F=!1);E=!1,F=!1;var a=300,b=300,c=S*a,e=G+c,f=U*b,g=H+f;0!==S&&(a=Math.abs((e-G)/S)),0!==U&&(b=Math.abs((g-H)/U));var h=Math.max(a,b);G=e,H=g;var i=M*B,j=N*B;I=Math.min(d.slider.width/2-i/2,0),K=-I,J=Math.min(d.slider.height/2-j/2,0),L=-J,G=Math.max(Math.min(G,K),I),H=Math.max(Math.min(H,L),J),A.transition(h).transform("translate3d("+G+"px, "+H+"px,0)")};var X,Y,Z,$,_,ab=!1,bb=!0,cb=!1;return d.swipeCloseTouchStart=function(){bb&&(ab=!0)},d.swipeCloseTouchMove=function(a,b){if(ab){cb||(cb=!0,Y="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY,$=d.slider.slides.eq(d.slider.activeSlideIndex),_=(new Date).getTime()),b.preventDefault(),Z="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY,X=Y-Z;var c=1-Math.abs(X)/300;$.transform("translate3d(0,"+-X+"px,0)"),d.slider.container.css("opacity",c).transition(0)}},d.swipeCloseTouchEnd=function(){if(ab=!1,!cb)return void(cb=!1);cb=!1,bb=!1;var a=Math.abs(X),b=(new Date).getTime()-_;return 300>b&&a>20||b>=300&&a>100?void setTimeout(function(){"standalone"===d.params.type&&d.close(),"popup"===d.params.type&&l.closeModal(d.popup),d.params.onSwipeToClose&&d.params.onSwipeToClose(d),bb=!0},0):(0!==a?$.addClass("transitioning").transitionEnd(function(){bb=!0,$.removeClass("transitioning")}):bb=!0,d.slider.container.css("opacity","").transition(""),void $.transform(""))},d};l.photoBrowser=function(a){return new u(a)};var v;
l.addNotification=function(a){if(a){"undefined"==typeof a.media&&(a.media=l.params.notificationMedia),"undefined"==typeof a.title&&(a.title=l.params.notificationTitle),"undefined"==typeof a.subtitle&&(a.subtitle=l.params.notificationSubtitle),"undefined"==typeof a.closeIcon&&(a.closeIcon=l.params.notificationCloseIcon),"undefined"==typeof a.hold&&(a.hold=l.params.notificationHold),"undefined"==typeof a.closeOnClick&&(a.closeOnClick=l.params.notificationCloseOnClick),v||(v=document.createElement("div"));var b=n(".notifications");0===b.length&&(n("body").append('<div class="notifications list-block media-list"><ul></ul></div>'),b=n(".notifications"));var c,d=b.children("ul");c=a.custom?"<li>"+a.custom+"</li>":'<li class="notification-item notification-hidden"><div class="item-content">'+(a.media?'<div class="item-media">'+a.media+"</div>":"")+'<div class="item-inner"><div class="item-title-row">'+(a.title?'<div class="item-title">'+a.title+"</div>":"")+(a.closeIcon?'<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>':"")+"</div>"+(a.subtitle?'<div class="item-subtitle">'+a.subtitle+"</div>":"")+(a.message?'<div class="item-text">'+a.message+"</div>":"")+"</div></div></li>",v.innerHTML=c;var e=n(v).children();e.on("click",function(b){var c=!1;n(b.target).is(".close-notification")||n(b.target).parents(".close-notification").length>0?c=!0:(a.onClick&&a.onClick(b,e[0]),a.closeOnClick&&(c=!0)),c&&l.closeNotification(e[0])}),a.onClose&&e.data("f7NotificationOnClose",function(){a.onClose(e[0])}),a.additionalClass&&e.addClass(a.additionalClass),a.hold&&setTimeout(function(){e.length>0&&l.closeNotification(e[0])},a.hold),d.prepend(e[0]),b.show();var f=e.height();e.css("marginTop",-f+"px"),e.transition(0);{e[0].clientLeft}return e.transition(""),e.css("marginTop","0px"),b.transform("translate3d(0, 0,0)"),e.removeClass("notification-hidden"),e[0]}},l.closeNotification=function(a){if(a=n(a),0!==a.length&&!a.hasClass("notification-item-removing")){var b=n(".notifications"),c=a.height();a.css("height",c+"px").transition(0);{a[0].clientLeft}a.css("height","0px").transition("").addClass("notification-item-removing"),a.data("f7NotificationOnClose")&&a.data("f7NotificationOnClose")(),0===b.find(".notification-item:not(.notification-item-removing)").length&&b.transform(""),a.addClass("notification-hidden").transitionEnd(function(){a.remove(),0===b.find(".notification-item").length&&b.hide()})}};var w=[];return l.initPlugins=function(){for(var a in l.plugins){var b=l.plugins[a](l,l.params[a]);b&&w.push(b)}},l.pluginHook=function(a){for(var b=0;b<w.length;b++)w[b].hooks&&a in w[b].hooks&&w[b].hooks[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},l.pluginPrevent=function(a){for(var b=!1,c=0;c<w.length;c++)w[c].prevents&&a in w[c].prevents&&w[c].prevents[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(b=!0);return b},l.pluginProcess=function(a,b){for(var c=b,d=0;d<w.length;d++)w[d].preprocess&&process in w[d].preprocess&&(c=w[d].preprocess[process](b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return c},l.init=function(){l.initPlugins&&l.initPlugins(),l.getDeviceInfo&&l.getDeviceInfo(),l.initFastClicks&&l.params.fastClicks&&l.initFastClicks(),l.initClickEvents&&l.initClickEvents(),n(".page").each(function(){var a=n(this),b=a.parents("."+l.params.viewClass);if(0!==b.length){var c=b[0].f7View||!1,d=c&&c.url?c.url:!1;b&&b.attr("data-page",a.attr("data-page")||void 0),l.pageInitCallback(c,this,d,"center")}}),l.initResize&&l.initResize(),l.initPushState&&l.params.pushState&&l.initPushState(),l.initSwipeout&&l.params.swipeout&&l.initSwipeout(),l.initSortable&&l.params.sortable&&l.initSortable(),l.initSwipePanels&&l.params.swipePanel&&l.initSwipePanels(),l.params.onAppInit&&l.params.onAppInit(),l.pluginHook("appInit")},l.params.init&&l.init(),l};var a=function(){var a=function(a){var b=this,c=0;for(c=0;c<a.length;c++)b[c]=a[c];return b.length=a.length,this},b=function(b,c){var d=[],e=0;if(b&&!c&&b instanceof a)return b;if(b)if("string"==typeof b){var f=(c||document).querySelectorAll(b);for(e=0;e<f.length;e++)d.push(f[e])}else if(b.nodeType||b===window||b===document)d.push(b);else if(b.length>0&&b[0].nodeType)for(e=0;e<b.length;e++)d.push(b[e]);return new a(d)};a.prototype={addClass:function(a){if("undefined"==typeof a)return this;for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.add(b[c]);return this},removeClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.remove(b[c]);return this},hasClass:function(a){return this[0]?this[0].classList.contains(a):!1},toggleClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.toggle(b[c]);return this},attr:function(a,b){if("undefined"==typeof b)return this[0]?this[0].getAttribute(a):void 0;for(var c=0;c<this.length;c++)this[c].setAttribute(a,b);return this},removeAttr:function(a){for(var b=0;b<this.length;b++)this[b].removeAttribute(a)},prop:function(a,b){if("undefined"==typeof b)return this[0]?this[0][a]:void 0;for(var c=0;c<this.length;c++)this[c][a]=b;return this},data:function(a,b){if("undefined"==typeof b){if(this[0]){var c=this[0].getAttribute("data-"+a);return c?c:this[0].dom7ElementDataStorage&&a in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[a]:void 0}return void 0}for(var d=0;d<this.length;d++){var e=this[d];e.dom7ElementDataStorage||(e.dom7ElementDataStorage={}),e.dom7ElementDataStorage[a]=b}return this},val:function(a){if("undefined"==typeof a)return this[0]?this[0].value:null;for(var b=0;b<this.length;b++)this[b].value=a;return this},transform:function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this},transition:function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this},on:function(a,c,d,e){function f(a){var e=a.target;if(b(e).is(c))d.call(e,a);else for(var f=b(e).parents(),g=0;g<f.length;g++)b(f[g]).is(c)&&d.call(f[g],a)}var g,h,i=a.split(" ");for(g=0;g<this.length;g++)if("function"==typeof c||c===!1)for("function"==typeof c&&(d=arguments[1],e=arguments[2]||!1),h=0;h<i.length;h++)this[g].addEventListener(i[h],d,e);else for(h=0;h<i.length;h++)this[g].dom7LiveListeners||(this[g].dom7LiveListeners=[]),this[g].dom7LiveListeners.push({listener:d,liveListener:f}),this[g].addEventListener(i[h],f,e);return this},off:function(a,b,c,d){for(var e=a.split(" "),f=0;f<e.length;f++)for(var g=0;g<this.length;g++)if("function"==typeof b||b===!1)"function"==typeof b&&(c=arguments[1],d=arguments[2]||!1),this[g].removeEventListener(e[f],c,d);else if(this[g].dom7LiveListeners)for(var h=0;h<this[g].dom7LiveListeners.length;h++)this[g].dom7LiveListeners[h].listener===c&&this[g].removeEventListener(e[f],this[g].dom7LiveListeners[h].liveListener,d);return this},once:function(a,b,c,d){function e(g){c(g),f.off(a,b,e,d)}var f=this;"function"==typeof b&&(b=!1,c=arguments[1],d=arguments[2]),f.on(a,b,e,d)},trigger:function(a,b){for(var c=0;c<this.length;c++){var d;try{d=new CustomEvent(a,{detail:b,bubbles:!0,cancelable:!0})}catch(e){d=document.createEvent("Event"),d.initEvent(a,!0,!0),d.detail=b}this[c].dispatchEvent(d)}return this},transitionEnd:function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},animationEnd:function(a){function b(f){for(a(f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width"))-parseFloat(this.css("padding-left"))-parseFloat(this.css("padding-right")):null},outerWidth:function(a){return this.length>0?a?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?this[0].offsetHeight-parseFloat(this.css("padding-top"))-parseFloat(this.css("padding-bottom")):null},outerHeight:function(a){return this.length>0?a?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var a=this[0],b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return{top:b.top+f-d,left:b.left+g-e}}return null},hide:function(){for(var a=0;a<this.length;a++)this[a].style.display="none";return this},show:function(){for(var a=0;a<this.length;a++)this[a].style.display="block";return this},css:function(a,b){var c;if(1===arguments.length){if("string"!=typeof a){for(c=0;c<this.length;c++)for(var d in a)this[c].style[d]=a[d];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(a)}if(2===arguments.length&&"string"==typeof a){for(c=0;c<this.length;c++)this[c].style[a]=b;return this}return this},each:function(a){for(var b=0;b<this.length;b++)a.call(this[b],b,this[b]);return this},html:function(a){if("undefined"==typeof a)return this[0]?this[0].innerHTML:void 0;for(var b=0;b<this.length;b++)this[b].innerHTML=a;return this},text:function(a){if("undefined"==typeof a)return this[0]?this[0].textContent.trim():null;for(var b=0;b<this.length;b++)this[0].textContent=a},is:function(c){if(!this[0])return!1;var d,e;if("string"==typeof c){var f=this[0];if(f===document)return c===document;if(f===window)return c===window;if(f.matches)return f.matches(c);if(f.webkitMatchesSelector)return f.webkitMatchesSelector(c);if(f.mozMatchesSelector)return f.mozMatchesSelector(c);if(f.msMatchesSelector)return f.msMatchesSelector(c);for(d=b(c),e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}if(c===document)return this[0]===document;if(c===window)return this[0]===window;if(c.nodeType||c instanceof a){for(d=c.nodeType?[c]:c,e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}return!1},indexOf:function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b},index:function(){if(this[0]){for(var a=this[0],b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}return void 0},eq:function(b){if("undefined"==typeof b)return this;var c,d=this.length;return b>d-1?new a([]):0>b?(c=d+b,new a(0>c?[]:[this[c]])):new a([this[b]])},append:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b;e.firstChild;)this[c].appendChild(e.firstChild)}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].appendChild(b[d]);else this[c].appendChild(b);return this},prepend:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b,d=e.childNodes.length-1;d>=0;d--)this[c].insertBefore(e.childNodes[d],this[c].childNodes[0])}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].insertBefore(b[d],this[c].childNodes[0]);else this[c].insertBefore(b,this[c].childNodes[0]);return this},insertBefore:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0]);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e])},insertAfter:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0].nextSibling);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e].nextSibling)},next:function(c){return new a(this.length>0?c?this[0].nextElementSibling&&b(this[0].nextElementSibling).is(c)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.nextElementSibling;){var f=e.nextElementSibling;d.push(c&&b(f).is(c)?f:f),e=f}return new a(d)},prev:function(c){return new a(this.length>0?c?this[0].previousElementSibling&&b(this[0].previousElementSibling).is(c)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.previousElementSibling;){var f=e.previousElementSibling;d.push(c&&b(f).is(c)?f:f),e=f}return new a(d)},parent:function(a){for(var c=[],d=0;d<this.length;d++)a?b(this[d].parentNode).is(a)&&c.push(this[d].parentNode):c.push(this[d].parentNode);return b(b.unique(c))},parents:function(a){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].parentNode;e;)a?b(e).is(a)&&c.push(e):c.push(e),e=e.parentNode;return b(b.unique(c))},find:function(b){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].querySelectorAll(b),f=0;f<e.length;f++)c.push(e[f]);return new a(c)},children:function(c){for(var d=[],e=0;e<this.length;e++)for(var f=this[e].childNodes,g=0;g<f.length;g++)c?1===f[g].nodeType&&b(f[g]).is(c)&&d.push(f[g]):1===f[g].nodeType&&d.push(f[g]);return new a(b.unique(d))},remove:function(){for(var a=0;a<this.length;a++)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},detach:function(){return this.remove()}},function(){function b(b){a.prototype[b]=function(a){var c;if("undefined"==typeof a){for(c=0;c<this.length;c++)d.indexOf(b)<0&&this[c][b]();return this}return this.on(b,a)}}for(var c="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),d="resize scroll".split(" "),e=0;e<c.length;e++)b(c[e])}();var c=0;return b.ajax=function(a){var d={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0};a.type&&(a.method=a.type);for(var e in d)e in a||(a[e]=d[e]);a.url||(a.url=window.location.toString());var f=a.method.toUpperCase();if(("GET"===f||"HEAD"===f)&&a.data){var g;g="string"==typeof a.data?a.data.indexOf("?")>=0?a.data.split("?")[1]:a.data:b.serializeObject(a.data),a.url+=a.url.indexOf("?")>=0?"&"+g:"?"+g}if("json"===a.dataType&&a.url.indexOf("callback=")>=0){var h,i,j="f7jsonp_"+Date.now()+c++,k=a.url.split("callback=");if(k[1].indexOf("&")>=0){var l=k[1].split("&").filter(function(a){return a.indexOf("=")>0}).join("&");h=k[0]+"callback="+j+(l.length>0?"&"+l:"")}else h=k[0]+"callback="+j;var m=document.createElement("script");return m.type="text/javascript",m.onerror=function(){clearTimeout(i),a.error&&a.error()},m.src=h,window[j]=function(b){clearTimeout(i),a.success&&a.success(b),m.parentNode.removeChild(m),m=null,delete window[j]},document.querySelector("head").appendChild(m),void(a.timeout>0&&(i=setTimeout(function(){m.parentNode.removeChild(m),m=null,a.error&&a.error()},a.timeout)))}("GET"===f||"HEAD"===f)&&a.cache===!1&&(a.url+="_nocache="+Date.now());var n=new XMLHttpRequest;n.open(f,a.url,a.async,a.user,a.password);var o=null;if(("POST"===f||"PUT"===f)&&a.data)if(a.processData){var p=[ArrayBuffer,Blob,Document,FormData];if(p.indexOf(a.data.constructor)>=0)o=a.data;else{var q="---------------------------"+Date.now().toString(16);"multipart/form-data"===a.contentType?n.setRequestHeader("Content-Type","multipart/form-data; boundary="+q):n.setRequestHeader("Content-Type",a.contentType),o="";var r=b.serializeObject(a.data);if("multipart/form-data"===a.contentType){q="---------------------------"+Date.now().toString(16),r=r.split("&");for(var s=[],t=0;t<r.length;t++)s.push('Content-Disposition: form-data; name="'+r[t].split("=")[0]+'"\r\n\r\n'+r[t].split("=")[1]+"\r\n");o="--"+q+"\r\n"+s.join("--"+q+"\r\n")+"--"+q+"--\r\n"}else o="application/x-www-form-urlencoded"===a.contentType?r:r.replace(/&/g,"\r\n")}}else o=a.data;if(a.headers)for(var u in a.headers)n.setRequestHeader(u,a.headers[u]);if("undefined"==typeof a.crossDomain&&(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!==window.location.host),a.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.xhrFields)for(var v in a.xhrFields)n[v]=a.xhrFields[v];return n.onload=function(){if((200===n.status||0===n.status)&&(b(document).trigger("ajaxSuccess",{xhr:n}),a.success)){var c=n.responseText;"json"===a.dataType&&(c=JSON.parse(c)),a.success(c,n.status,n)}a.statusCode&&a.statusCode[n.status]&&a.statusCode[n.status](n),a.complete&&a.complete(n),b(document).trigger("ajaxComplete",{xhr:n})},n.onerror=function(){b(document).trigger("ajaxError",{xhr:n}),a.error&&a.error(n)},a.start&&a.start(n),b(document).trigger("ajaxStart",{xhr:n}),n.send(o),n},function(){function a(a){b[a]=function(c,d,e){return b.ajax({url:c,method:"post"===a?"POST":"GET",data:"function"==typeof d?void 0:d,success:"function"==typeof d?d:e,dataType:"getJSON"===a?"json":void 0})}}for(var c="get post getJSON".split(" "),d=0;d<c.length;d++)a(c[d])}(),b.parseUrlQuery=function(a){var b,c,d,e={};if(!(a.indexOf("?")>=0))return e;for(a=a.split("?")[1],c=a.split("&"),b=0;b<c.length;b++)d=c[b].split("="),e[d[0]]=d[1];return e},b.isArray=function(a){return"[object Array]"===Object.prototype.toString.apply(a)?!0:!1},b.unique=function(a){for(var b=[],c=0;c<a.length;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b},b.trim=function(a){return a.trim()},b.serializeObject=function(a){if("string"==typeof a)return a;var c=[],d="&";for(var e in a)if(b.isArray(a[e])){for(var f=[],g=0;g<a[e].length;g++)f.push(e+"="+a[e][g]);c.push(f.join(d))}else c.push(e+"="+a[e]);return c.join(d)},b.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?f=new WebKitCSSMatrix("none"===e.webkitTransform?"":e.webkitTransform):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:parseFloat(16===c.length?c[12]:c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:parseFloat(16===c.length?c[13]:c[5])),d||0},b.requestAnimationFrame=function(a){return window.requestAnimationFrame?window.requestAnimationFrame(a):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(a):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(a):window.setTimeout(a,1e3/60)},b.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),b.fn=a.prototype,b.fn.scrollTo=function(a,c,d){return this.each(function(){function e(a){void 0===a&&(a=(new Date).getTime()),null===q&&(q=a);var c;o&&(l=f+(a-q)/d*(j-f)),p&&(m=g+(a-q)/d*(k-g)),o&&j>f&&l>=j&&(n.scrollTop=j,c=!0),o&&f>j&&j>=l&&(n.scrollTop=j,c=!0),p&&k>g&&m>=k&&(n.scrollLeft=k,c=!0),p&&g>k&&k>=m&&(n.scrollLeft=k,c=!0),c||(o&&(n.scrollTop=l),p&&(n.scrollLeft=m),b.requestAnimationFrame(e))}var f,g,h,i,j,k,l,m,n=this,o=c>0||0===c,p=a>0||0===a;if(o&&(f=n.scrollTop,d||(n.scrollTop=c)),p&&(g=n.scrollLeft,d||(n.scrollLeft=a)),d){o&&(h=n.scrollHeight-n.offsetHeight,j=Math.max(Math.min(c,h),0)),p&&(i=n.scrollWidth-n.offsetWidth,k=Math.max(Math.min(a,i),0));var q=null;o&&j===f&&(o=!1),p&&k===g&&(p=!1),b.requestAnimationFrame(e)}})},b.fn.scrollTop=function(a,b){var c=this;return"undefined"==typeof a?c.length>0?c[0].scrollTop:null:c.scrollTo(void 0,a,b)},b.fn.scrollLeft=function(a,b){var c=this;return"undefined"==typeof a?c.length>0?c[0].scrollLeft:null:c.scrollTo(a,void 0,b)},b}();Framework7.$=a;window.Dom7=a,Framework7.prototype.support=function(){var a={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)};return a}(),Framework7.prototype.device=function(){var b={},c=navigator.userAgent,d=a,e=c.match(/(Android);?[\s\/]+([\d.]+)?/),f=c.match(/(iPad).*OS\s([\d_]+)/),g=c.match(/(iPod)(.*OS\s([\d_]+))?/),h=!f&&c.match(/(iPhone\sOS)\s([\d_]+)/);if(b.ios=b.android=b.iphone=b.ipad=!1,e&&(b.os="android",b.osVersion=e[2],b.android=!0),(f||h||g)&&(b.os="ios",b.ios=!0),h&&!g&&(b.osVersion=h[2].replace(/_/g,"."),b.iphone=!0),f&&(b.osVersion=f[2].replace(/_/g,"."),b.ipad=!0),g&&(b.osVersion=g[3]?g[3].replace(/_/g,"."):null,b.iphone=!0),b.ios&&b.osVersion&&c.indexOf("Version/")>=0&&"10"===b.osVersion.split(".")[0]&&(b.osVersion=c.toLowerCase().split("version/")[1].split(" ")[0]),b.webView=(h||f||g)&&c.match(/.*AppleWebKit(?!.*Safari)/i),b.os&&"ios"===b.os){var i=b.osVersion.split(".");b.minimalUi=!b.webView&&(g||h)&&(1*i[0]===7?1*i[1]>=1:1*i[0]>7)&&d('meta[name="viewport"]').length>0&&d('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var j=d(window).width(),k=d(window).height();b.statusBar=!1,b.statusBar=b.webView&&j*k===screen.width*screen.height?!0:!1;var l=[];if(b.pixelRatio=window.devicePixelRatio||1,b.pixelRatio>=2&&l.push("retina"),b.os&&(l.push(b.os,b.os+"-"+b.osVersion.split(".")[0],b.os+"-"+b.osVersion.replace(/\./g,"-")),"ios"===b.os))for(var m=parseInt(b.osVersion.split(".")[0],10),n=m-1;n>=6;n--)l.push("ios-gt-"+n);return b.statusBar?l.push("with-statusbar-overlay"):d("html").removeClass("with-statusbar-overlay"),l.length>0&&d("html").addClass(l.join(" ")),b}(),Framework7.prototype.plugins={}}(),window.Template7=function(){"use strict";function a(a){return"[object Array]"===Object.prototype.toString.apply(a)}function b(a){return"function"==typeof a}function c(a){var b,c,d,e=a.replace(/[{}#}]/g,"").split(" "),f=[];for(c=0;c<e.length;c++){var g=e[c];if(0===c)f.push(g);else if(0===g.indexOf('"'))if(2===g.match(/"/g).length)f.push(g);else{for(b=0,d=c+1;d<e.length;d++)if(g+=" "+e[d],e[d].indexOf('"')>=0){b=d,f.push(g);break}b&&(c=b)}else if(g.indexOf("=")>0){var h=g.split("="),i=h[0],j=h[1];if(2!==j.match(/"/g).length){for(b=0,d=c+1;d<e.length;d++)if(j+=" "+e[d],e[d].indexOf('"')>=0){b=d;break}b&&(c=b)}var k=[i,j.replace(/"/g,"")];f.push(k)}else f.push(g)}return f}function d(b){var d,e,f=[];if(!b)return[];var g=b.split(/({{[^{^}]*}})/);for(d=0;d<g.length;d++){var h=g[d];if(""!==h)if(h.indexOf("{{")<0)f.push({type:"plain",content:h});else{if(h.indexOf("{/")>=0)continue;if(h.indexOf("{#")<0&&h.indexOf(" ")<0&&h.indexOf("else")<0){f.push({type:"variable",contextName:h.replace(/[{}]/g,"")});continue}var i=c(h),j=i[0],k=[],l={};for(e=1;e<i.length;e++){var m=i[e];a(m)?l[m[0]]="false"===m[1]?!1:m[1]:k.push(m)}if(h.indexOf("{#")>=0){var n,o="",p="",q=0,r=!1,s=!1,t=0;for(e=d+1;e<g.length;e++)if(g[e].indexOf("{{#")>=0&&t++,g[e].indexOf("{{/")>=0&&t--,g[e].indexOf("{{#"+j)>=0)o+=g[e],s&&(p+=g[e]),q++;else if(g[e].indexOf("{{/"+j)>=0){if(!(q>0)){n=e,r=!0;break}q--,o+=g[e],s&&(p+=g[e])}else g[e].indexOf("else")>=0&&0===t?s=!0:(s||(o+=g[e]),s&&(p+=g[e]));r&&(n&&(d=n),f.push({type:"helper",helperName:j,contextName:k,content:o,inverseContent:p,hash:l}))}else h.indexOf(" ")>0&&f.push({type:"helper",helperName:j,contextName:k,hash:l})}}return f}var e=function(a,b){function c(a,b){return a.content?h(a.content,b):function(){return""}}function e(a,b){return a.inverseContent?h(a.inverseContent,b):function(){return""}}function f(a,b){var c;if(a.indexOf(".")>0)c=0===a.indexOf("this")?a.replace("this",b):b+"."+a;else if(0===a.indexOf("../")){var d=a.split("../").length-1,e=a.split("../")[a.split("../").length-1],f=b.split("_")[1]-d;c="ctx_"+(f>=1?f:1)+"."+e}else c="this"===a?b:b+"."+a;return a&&a.indexOf("@")>=0&&(c="(data && data."+a.replace("@","")+")"),c}function g(a,b){for(var c=[],d=0;d<a.length;d++)c.push(0===a[d].indexOf('"')?a[d]:f(a[d],b));return c.join(", ")}function h(a,b){if(b=b||1,a=a||i.template,"string"!=typeof a)throw new Error("Template7: Template must be a string");var h=d(a);if(0===h.length)return function(){return""};var j="ctx_"+b,k="(function ("+j+", data) {\n";1===b&&(k+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",k+="function isFunction(func){return (typeof func === 'function');}\n",k+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),k+="var r = '';\n";var l;for(l=0;l<h.length;l++){var m=h[l];if("plain"!==m.type){var n,o;if("variable"===m.type&&(n=f(m.contextName,j),k+="r += c("+n+", "+j+");"),"helper"===m.type)if(m.helperName in i.helpers)o=g(m.contextName,j),k+="r += (Template7.helpers."+m.helperName+").call("+j+", "+o+", {hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+c(m,b+1)+", inverse: "+e(m,b+1)+"});";else{if(m.contextName.length>0)throw new Error('Template7: Missing helper: "'+m.helperName+'"');n=f(m.helperName,j),k+="if ("+n+") {",k+="if (isArray("+n+")) {",k+="r += (Template7.helpers.each).call("+j+", "+n+", {hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+c(m,b+1)+", inverse: "+e(m,b+1)+"});",k+="}else {",k+="r += (Template7.helpers.with).call("+j+", "+n+", {hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+c(m,b+1)+", inverse: "+e(m,b+1)+"});",k+="}}"}}else k+="r +='"+m.content.replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return k+="\nreturn r;})",eval.call(window,k)}var i=this;i.template=a,i.context=b,i.compile=function(a){return i.compiled||(i.compiled=h(a)),i.compiled}};e.prototype={options:{},helpers:{"if":function(a,c){return b(a)&&(a=a.call(this)),a?c.fn(this,c.data):c.inverse(this,c.data)},unless:function(a,c){return b(a)&&(a=a.call(this)),a?c.inverse(this,c.data):c.fn(this,c.data)},each:function(c,d){var e="",f=0;if(b(c)&&(c=c.call(this)),a(c)){for(d.hash.reverse&&(c=c.reverse()),f=0;f<c.length;f++)e+=d.fn(c[f],{first:0===f,last:f===c.length-1,index:f});d.hash.reverse&&(c=c.reverse())}else for(var g in c)f++,e+=d.fn(c[g],{key:g});return f>0?e:d.inverse(this)},"with":function(a,c){return b(a)&&(a=a.call(this)),c.fn(a)},join:function(a,c){return b(a)&&(a=a.call(this)),a.join(c.hash.delimeter)}}};var f=function(a,b){if(2===arguments.length){var c=new e(a),d=c.compile()(b);return c=null,d}return new e(a)};return f.registerHelper=function(a,b){e.prototype.helpers[a]=b},f.compile=function(a){var b=new e(a);return b.compile()},f.options=e.prototype.options,f.helpers=e.prototype.helpers,f}();